import{quadtree as T}from"/-/d3-quadtree@v3.0.1-sMtwlDFghZGCTQ3UxKMT/dist=es2020,mode=imports,min/optimized/d3-quadtree.js";import{dispatch as L}from"/-/d3-dispatch@v3.0.1-v6nbfqO2iWOSwp77fYdB/dist=es2020,mode=imports,min/optimized/d3-dispatch.js";import{timer as Y}from"/-/d3-timer@v3.0.1-O0QpYiI2jhOLEJodLnN1/dist=es2020,mode=imports,min/optimized/d3-timer.js";function F(n,f){var a,y=1;n==null&&(n=0),f==null&&(f=0);function m(){var c,g=a.length,t,h=0,e=0;for(c=0;c<g;++c)t=a[c],h+=t.x,e+=t.y;for(h=(h/g-n)*y,e=(e/g-f)*y,c=0;c<g;++c)t=a[c],t.x-=h,t.y-=e}return m.initialize=function(c){a=c},m.x=function(c){return arguments.length?(n=+c,m):n},m.y=function(c){return arguments.length?(f=+c,m):f},m.strength=function(c){return arguments.length?(y=+c,m):y},m}function M(n){return function(){return n}}function O(n){return(n()-.5)*1e-6}function Q(n){return n.x+n.vx}function R(n){return n.y+n.vy}function b(n){var f,a,y,m=1,c=1;typeof n!="function"&&(n=M(n==null?1:+n));function g(){for(var e,v=f.length,A,p,o,x,i,r,u=0;u<c;++u)for(A=T(f,Q,R).visitAfter(t),e=0;e<v;++e)p=f[e],i=a[p.index],r=i*i,o=p.x+p.vx,x=p.y+p.vy,A.visit(s);function s(d,l,N,j,D){var z=d.data,E=d.r,w=i+E;if(z){if(z.index>p.index){var B=o-z.x-z.vx,I=x-z.y-z.vy,S=B*B+I*I;S<w*w&&(B===0&&(B=O(y),S+=B*B),I===0&&(I=O(y),S+=I*I),S=(w-(S=Math.sqrt(S)))/S*m,p.vx+=(B*=S)*(w=(E*=E)/(r+E)),p.vy+=(I*=S)*w,z.vx-=B*(w=1-w),z.vy-=I*w)}return}return l>o+w||j<o-w||N>x+w||D<x-w}}function t(e){if(e.data)return e.r=a[e.data.index];for(var v=e.r=0;v<4;++v)e[v]&&e[v].r>e.r&&(e.r=e[v].r)}function h(){if(!f)return;var e,v=f.length,A;for(a=new Array(v),e=0;e<v;++e)A=f[e],a[A.index]=+n(A,e,f)}return g.initialize=function(e,v){f=e,y=v,h()},g.iterations=function(e){return arguments.length?(c=+e,g):c},g.strength=function(e){return arguments.length?(m=+e,g):m},g.radius=function(e){return arguments.length?(n=typeof e=="function"?e:M(+e),h(),g):n},g}function G(n){return n.index}function $(n,f){var a=n.get(f);if(!a)throw new Error("node not found: "+f);return a}function J(n){var f=G,a=A,y,m=M(30),c,g,t,h,e,v=1;n==null&&(n=[]);function A(r){return 1/Math.min(t[r.source.index],t[r.target.index])}function p(r){for(var u=0,s=n.length;u<v;++u)for(var d=0,l,N,j,D,z,E,w;d<s;++d)l=n[d],N=l.source,j=l.target,D=j.x+j.vx-N.x-N.vx||O(e),z=j.y+j.vy-N.y-N.vy||O(e),E=Math.sqrt(D*D+z*z),E=(E-c[d])/E*r*y[d],D*=E,z*=E,j.vx-=D*(w=h[d]),j.vy-=z*w,N.vx+=D*(w=1-w),N.vy+=z*w}function o(){if(!g)return;var r,u=g.length,s=n.length,d=new Map(g.map((N,j)=>[f(N,j,g),N])),l;for(r=0,t=new Array(u);r<s;++r)l=n[r],l.index=r,typeof l.source!="object"&&(l.source=$(d,l.source)),typeof l.target!="object"&&(l.target=$(d,l.target)),t[l.source.index]=(t[l.source.index]||0)+1,t[l.target.index]=(t[l.target.index]||0)+1;for(r=0,h=new Array(s);r<s;++r)l=n[r],h[r]=t[l.source.index]/(t[l.source.index]+t[l.target.index]);y=new Array(s),x(),c=new Array(s),i()}function x(){if(!g)return;for(var r=0,u=n.length;r<u;++r)y[r]=+a(n[r],r,n)}function i(){if(!g)return;for(var r=0,u=n.length;r<u;++r)c[r]=+m(n[r],r,n)}return p.initialize=function(r,u){g=r,e=u,o()},p.links=function(r){return arguments.length?(n=r,o(),p):n},p.id=function(r){return arguments.length?(f=r,p):f},p.iterations=function(r){return arguments.length?(v=+r,p):v},p.strength=function(r){return arguments.length?(a=typeof r=="function"?r:M(+r),x(),p):a},p.distance=function(r){return arguments.length?(m=typeof r=="function"?r:M(+r),i(),p):m},p}const K=1664525,P=1013904223,C=4294967296;function U(){let n=1;return()=>(n=(K*n+P)%C)/C}function W(n){return n.x}function X(n){return n.y}var Z=10,H=Math.PI*(3-Math.sqrt(5));function V(n){var f,a=1,y=.001,m=1-Math.pow(y,1/300),c=0,g=.6,t=new Map,h=Y(A),e=L("tick","end"),v=U();n==null&&(n=[]);function A(){p(),e.call("tick",f),a<y&&(h.stop(),e.call("end",f))}function p(i){var r,u=n.length,s;i===void 0&&(i=1);for(var d=0;d<i;++d)for(a+=(c-a)*m,t.forEach(function(l){l(a)}),r=0;r<u;++r)s=n[r],s.fx==null?s.x+=s.vx*=g:(s.x=s.fx,s.vx=0),s.fy==null?s.y+=s.vy*=g:(s.y=s.fy,s.vy=0);return f}function o(){for(var i=0,r=n.length,u;i<r;++i){if(u=n[i],u.index=i,u.fx!=null&&(u.x=u.fx),u.fy!=null&&(u.y=u.fy),isNaN(u.x)||isNaN(u.y)){var s=Z*Math.sqrt(.5+i),d=i*H;u.x=s*Math.cos(d),u.y=s*Math.sin(d)}(isNaN(u.vx)||isNaN(u.vy))&&(u.vx=u.vy=0)}}function x(i){return i.initialize&&i.initialize(n,v),i}return o(),f={tick:p,restart:function(){return h.restart(A),f},stop:function(){return h.stop(),f},nodes:function(i){return arguments.length?(n=i,o(),t.forEach(x),f):n},alpha:function(i){return arguments.length?(a=+i,f):a},alphaMin:function(i){return arguments.length?(y=+i,f):y},alphaDecay:function(i){return arguments.length?(m=+i,f):+m},alphaTarget:function(i){return arguments.length?(c=+i,f):c},velocityDecay:function(i){return arguments.length?(g=1-i,f):1-g},randomSource:function(i){return arguments.length?(v=i,t.forEach(x),f):v},force:function(i,r){return arguments.length>1?(r==null?t.delete(i):t.set(i,x(r)),f):t.get(i)},find:function(i,r,u){var s=0,d=n.length,l,N,j,D,z;for(u==null?u=Infinity:u*=u,s=0;s<d;++s)D=n[s],l=i-D.x,N=r-D.y,j=l*l+N*N,j<u&&(z=D,u=j);return z},on:function(i,r){return arguments.length>1?(e.on(i,r),f):e.on(i)}}}function q(){var n,f,a,y,m=M(-30),c,g=1,t=Infinity,h=.81;function e(o){var x,i=n.length,r=T(n,W,X).visitAfter(A);for(y=o,x=0;x<i;++x)f=n[x],r.visit(p)}function v(){if(!n)return;var o,x=n.length,i;for(c=new Array(x),o=0;o<x;++o)i=n[o],c[i.index]=+m(i,o,n)}function A(o){var x=0,i,r,u=0,s,d,l;if(o.length){for(s=d=l=0;l<4;++l)(i=o[l])&&(r=Math.abs(i.value))&&(x+=i.value,u+=r,s+=r*i.x,d+=r*i.y);o.x=s/u,o.y=d/u}else{i=o,i.x=i.data.x,i.y=i.data.y;do x+=c[i.data.index];while(i=i.next)}o.value=x}function p(o,x,i,r){if(!o.value)return!0;var u=o.x-f.x,s=o.y-f.y,d=r-x,l=u*u+s*s;if(d*d/h<l)return l<t&&(u===0&&(u=O(a),l+=u*u),s===0&&(s=O(a),l+=s*s),l<g&&(l=Math.sqrt(g*l)),f.vx+=u*o.value*y/l,f.vy+=s*o.value*y/l),!0;if(o.length||l>=t)return;(o.data!==f||o.next)&&(u===0&&(u=O(a),l+=u*u),s===0&&(s=O(a),l+=s*s),l<g&&(l=Math.sqrt(g*l)));do o.data!==f&&(d=c[o.data.index]*y/l,f.vx+=u*d,f.vy+=s*d);while(o=o.next)}return e.initialize=function(o,x){n=o,a=x,v()},e.strength=function(o){return arguments.length?(m=typeof o=="function"?o:M(+o),v(),e):m},e.distanceMin=function(o){return arguments.length?(g=o*o,e):Math.sqrt(g)},e.distanceMax=function(o){return arguments.length?(t=o*o,e):Math.sqrt(t)},e.theta=function(o){return arguments.length?(h=o*o,e):Math.sqrt(h)},e}function k(n,f,a){var y,m=M(.1),c,g;typeof n!="function"&&(n=M(+n)),f==null&&(f=0),a==null&&(a=0);function t(e){for(var v=0,A=y.length;v<A;++v){var p=y[v],o=p.x-f||1e-6,x=p.y-a||1e-6,i=Math.sqrt(o*o+x*x),r=(g[v]-i)*c[v]*e/i;p.vx+=o*r,p.vy+=x*r}}function h(){if(!y)return;var e,v=y.length;for(c=new Array(v),g=new Array(v),e=0;e<v;++e)g[e]=+n(y[e],e,y),c[e]=isNaN(g[e])?0:+m(y[e],e,y)}return t.initialize=function(e){y=e,h()},t.strength=function(e){return arguments.length?(m=typeof e=="function"?e:M(+e),h(),t):m},t.radius=function(e){return arguments.length?(n=typeof e=="function"?e:M(+e),h(),t):n},t.x=function(e){return arguments.length?(f=+e,t):f},t.y=function(e){return arguments.length?(a=+e,t):a},t}function _(n){var f=M(.1),a,y,m;typeof n!="function"&&(n=M(n==null?0:+n));function c(t){for(var h=0,e=a.length,v;h<e;++h)v=a[h],v.vx+=(m[h]-v.x)*y[h]*t}function g(){if(!a)return;var t,h=a.length;for(y=new Array(h),m=new Array(h),t=0;t<h;++t)y[t]=isNaN(m[t]=+n(a[t],t,a))?0:+f(a[t],t,a)}return c.initialize=function(t){a=t,g()},c.strength=function(t){return arguments.length?(f=typeof t=="function"?t:M(+t),g(),c):f},c.x=function(t){return arguments.length?(n=typeof t=="function"?t:M(+t),g(),c):n},c}function nn(n){var f=M(.1),a,y,m;typeof n!="function"&&(n=M(n==null?0:+n));function c(t){for(var h=0,e=a.length,v;h<e;++h)v=a[h],v.vy+=(m[h]-v.y)*y[h]*t}function g(){if(!a)return;var t,h=a.length;for(y=new Array(h),m=new Array(h),t=0;t<h;++t)y[t]=isNaN(m[t]=+n(a[t],t,a))?0:+f(a[t],t,a)}return c.initialize=function(t){a=t,g()},c.strength=function(t){return arguments.length?(f=typeof t=="function"?t:M(+t),g(),c):f},c.y=function(t){return arguments.length?(n=typeof t=="function"?t:M(+t),g(),c):n},c}export{F as forceCenter,b as forceCollide,J as forceLink,q as forceManyBody,k as forceRadial,V as forceSimulation,_ as forceX,nn as forceY};export default null;
