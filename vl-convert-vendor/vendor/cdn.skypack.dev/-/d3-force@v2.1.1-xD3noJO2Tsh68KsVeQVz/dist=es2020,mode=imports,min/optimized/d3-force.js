import{quadtree as B}from"/-/d3-quadtree@v2.0.0-cjdx9z1L5knDliKAp5Pp/dist=es2020,mode=imports,min/optimized/d3-quadtree.js";import{dispatch as C}from"/-/d3-dispatch@v2.0.0-DmRxN0Ic11LeXfqvlzXx/dist=es2020,mode=imports,min/optimized/d3-dispatch.js";import{timer as F}from"/-/d3-timer@v2.0.0-u3FJ3eign4Rpn9sjhjqn/dist=es2020,mode=imports,min/optimized/d3-timer.js";function P(n,f){var a,y=1;n==null&&(n=0),f==null&&(f=0);function m(){var c,g=a.length,t,h=0,e=0;for(c=0;c<g;++c)t=a[c],h+=t.x,e+=t.y;for(h=(h/g-n)*y,e=(e/g-f)*y,c=0;c<g;++c)t=a[c],t.x-=h,t.y-=e}return m.initialize=function(c){a=c},m.x=function(c){return arguments.length?(n=+c,m):n},m.y=function(c){return arguments.length?(f=+c,m):f},m.strength=function(c){return arguments.length?(y=+c,m):y},m}function z(n){return function(){return n}}function $(n){return(n()-.5)*1e-6}function T(n){return n.x+n.vx}function J(n){return n.y+n.vy}function K(n){var f,a,y,m=1,c=1;typeof n!="function"&&(n=z(n==null?1:+n));function g(){for(var e,v=f.length,N,p,u,x,i,r,o=0;o<c;++o)for(N=B(f,T,J).visitAfter(t),e=0;e<v;++e)p=f[e],i=a[p.index],r=i*i,u=p.x+p.vx,x=p.y+p.vy,N.visit(s);function s(d,l,A,j,D){var M=d.data,E=d.r,w=i+E;if(M){if(M.index>p.index){var R=u-M.x-M.vx,S=x-M.y-M.vy,I=R*R+S*S;I<w*w&&(R===0&&(R=$(y),I+=R*R),S===0&&(S=$(y),I+=S*S),I=(w-(I=Math.sqrt(I)))/I*m,p.vx+=(R*=I)*(w=(E*=E)/(r+E)),p.vy+=(S*=I)*w,M.vx-=R*(w=1-w),M.vy-=S*w)}return}return l>u+w||j<u-w||A>x+w||D<x-w}}function t(e){if(e.data)return e.r=a[e.data.index];for(var v=e.r=0;v<4;++v)e[v]&&e[v].r>e.r&&(e.r=e[v].r)}function h(){if(!f)return;var e,v=f.length,N;for(a=new Array(v),e=0;e<v;++e)N=f[e],a[N.index]=+n(N,e,f)}return g.initialize=function(e,v){f=e,y=v,h()},g.iterations=function(e){return arguments.length?(c=+e,g):c},g.strength=function(e){return arguments.length?(m=+e,g):m},g.radius=function(e){return arguments.length?(n=typeof e=="function"?e:z(+e),h(),g):n},g}function Y(n){return n.index}function L(n,f){var a=n.get(f);if(!a)throw new Error("node not found: "+f);return a}function b(n){var f=Y,a=N,y,m=z(30),c,g,t,h,e,v=1;n==null&&(n=[]);function N(r){return 1/Math.min(t[r.source.index],t[r.target.index])}function p(r){for(var o=0,s=n.length;o<v;++o)for(var d=0,l,A,j,D,M,E,w;d<s;++d)l=n[d],A=l.source,j=l.target,D=j.x+j.vx-A.x-A.vx||$(e),M=j.y+j.vy-A.y-A.vy||$(e),E=Math.sqrt(D*D+M*M),E=(E-c[d])/E*r*y[d],D*=E,M*=E,j.vx-=D*(w=h[d]),j.vy-=M*w,A.vx+=D*(w=1-w),A.vy+=M*w}function u(){if(!g)return;var r,o=g.length,s=n.length,d=new Map(g.map((A,j)=>[f(A,j,g),A])),l;for(r=0,t=new Array(o);r<s;++r)l=n[r],l.index=r,typeof l.source!="object"&&(l.source=L(d,l.source)),typeof l.target!="object"&&(l.target=L(d,l.target)),t[l.source.index]=(t[l.source.index]||0)+1,t[l.target.index]=(t[l.target.index]||0)+1;for(r=0,h=new Array(s);r<s;++r)l=n[r],h[r]=t[l.source.index]/(t[l.source.index]+t[l.target.index]);y=new Array(s),x(),c=new Array(s),i()}function x(){if(!g)return;for(var r=0,o=n.length;r<o;++r)y[r]=+a(n[r],r,n)}function i(){if(!g)return;for(var r=0,o=n.length;r<o;++r)c[r]=+m(n[r],r,n)}return p.initialize=function(r,o){g=r,e=o,u()},p.links=function(r){return arguments.length?(n=r,u(),p):n},p.id=function(r){return arguments.length?(f=r,p):f},p.iterations=function(r){return arguments.length?(v=+r,p):v},p.strength=function(r){return arguments.length?(a=typeof r=="function"?r:z(+r),x(),p):a},p.distance=function(r){return arguments.length?(m=typeof r=="function"?r:z(+r),i(),p):m},p}const G=1664525,H=1013904223,X=4294967296;function O(){let n=1;return()=>(n=(G*n+H)%X)/X}function Q(n){return n.x}function U(n){return n.y}var V=10,W=Math.PI*(3-Math.sqrt(5));function Z(n){var f,a=1,y=.001,m=1-Math.pow(y,1/300),c=0,g=.6,t=new Map,h=F(N),e=C("tick","end"),v=O();n==null&&(n=[]);function N(){p(),e.call("tick",f),a<y&&(h.stop(),e.call("end",f))}function p(i){var r,o=n.length,s;i===void 0&&(i=1);for(var d=0;d<i;++d)for(a+=(c-a)*m,t.forEach(function(l){l(a)}),r=0;r<o;++r)s=n[r],s.fx==null?s.x+=s.vx*=g:(s.x=s.fx,s.vx=0),s.fy==null?s.y+=s.vy*=g:(s.y=s.fy,s.vy=0);return f}function u(){for(var i=0,r=n.length,o;i<r;++i){if(o=n[i],o.index=i,o.fx!=null&&(o.x=o.fx),o.fy!=null&&(o.y=o.fy),isNaN(o.x)||isNaN(o.y)){var s=V*Math.sqrt(.5+i),d=i*W;o.x=s*Math.cos(d),o.y=s*Math.sin(d)}(isNaN(o.vx)||isNaN(o.vy))&&(o.vx=o.vy=0)}}function x(i){return i.initialize&&i.initialize(n,v),i}return u(),f={tick:p,restart:function(){return h.restart(N),f},stop:function(){return h.stop(),f},nodes:function(i){return arguments.length?(n=i,u(),t.forEach(x),f):n},alpha:function(i){return arguments.length?(a=+i,f):a},alphaMin:function(i){return arguments.length?(y=+i,f):y},alphaDecay:function(i){return arguments.length?(m=+i,f):+m},alphaTarget:function(i){return arguments.length?(c=+i,f):c},velocityDecay:function(i){return arguments.length?(g=1-i,f):1-g},randomSource:function(i){return arguments.length?(v=i,t.forEach(x),f):v},force:function(i,r){return arguments.length>1?(r==null?t.delete(i):t.set(i,x(r)),f):t.get(i)},find:function(i,r,o){var s=0,d=n.length,l,A,j,D,M;for(o==null?o=Infinity:o*=o,s=0;s<d;++s)D=n[s],l=i-D.x,A=r-D.y,j=l*l+A*A,j<o&&(M=D,o=j);return M},on:function(i,r){return arguments.length>1?(e.on(i,r),f):e.on(i)}}}function q(){var n,f,a,y,m=z(-30),c,g=1,t=Infinity,h=.81;function e(u){var x,i=n.length,r=B(n,Q,U).visitAfter(N);for(y=u,x=0;x<i;++x)f=n[x],r.visit(p)}function v(){if(!n)return;var u,x=n.length,i;for(c=new Array(x),u=0;u<x;++u)i=n[u],c[i.index]=+m(i,u,n)}function N(u){var x=0,i,r,o=0,s,d,l;if(u.length){for(s=d=l=0;l<4;++l)(i=u[l])&&(r=Math.abs(i.value))&&(x+=i.value,o+=r,s+=r*i.x,d+=r*i.y);u.x=s/o,u.y=d/o}else{i=u,i.x=i.data.x,i.y=i.data.y;do x+=c[i.data.index];while(i=i.next)}u.value=x}function p(u,x,i,r){if(!u.value)return!0;var o=u.x-f.x,s=u.y-f.y,d=r-x,l=o*o+s*s;if(d*d/h<l)return l<t&&(o===0&&(o=$(a),l+=o*o),s===0&&(s=$(a),l+=s*s),l<g&&(l=Math.sqrt(g*l)),f.vx+=o*u.value*y/l,f.vy+=s*u.value*y/l),!0;if(u.length||l>=t)return;(u.data!==f||u.next)&&(o===0&&(o=$(a),l+=o*o),s===0&&(s=$(a),l+=s*s),l<g&&(l=Math.sqrt(g*l)));do u.data!==f&&(d=c[u.data.index]*y/l,f.vx+=o*d,f.vy+=s*d);while(u=u.next)}return e.initialize=function(u,x){n=u,a=x,v()},e.strength=function(u){return arguments.length?(m=typeof u=="function"?u:z(+u),v(),e):m},e.distanceMin=function(u){return arguments.length?(g=u*u,e):Math.sqrt(g)},e.distanceMax=function(u){return arguments.length?(t=u*u,e):Math.sqrt(t)},e.theta=function(u){return arguments.length?(h=u*u,e):Math.sqrt(h)},e}function k(n,f,a){var y,m=z(.1),c,g;typeof n!="function"&&(n=z(+n)),f==null&&(f=0),a==null&&(a=0);function t(e){for(var v=0,N=y.length;v<N;++v){var p=y[v],u=p.x-f||1e-6,x=p.y-a||1e-6,i=Math.sqrt(u*u+x*x),r=(g[v]-i)*c[v]*e/i;p.vx+=u*r,p.vy+=x*r}}function h(){if(!y)return;var e,v=y.length;for(c=new Array(v),g=new Array(v),e=0;e<v;++e)g[e]=+n(y[e],e,y),c[e]=isNaN(g[e])?0:+m(y[e],e,y)}return t.initialize=function(e){y=e,h()},t.strength=function(e){return arguments.length?(m=typeof e=="function"?e:z(+e),h(),t):m},t.radius=function(e){return arguments.length?(n=typeof e=="function"?e:z(+e),h(),t):n},t.x=function(e){return arguments.length?(f=+e,t):f},t.y=function(e){return arguments.length?(a=+e,t):a},t}function _(n){var f=z(.1),a,y,m;typeof n!="function"&&(n=z(n==null?0:+n));function c(t){for(var h=0,e=a.length,v;h<e;++h)v=a[h],v.vx+=(m[h]-v.x)*y[h]*t}function g(){if(!a)return;var t,h=a.length;for(y=new Array(h),m=new Array(h),t=0;t<h;++t)y[t]=isNaN(m[t]=+n(a[t],t,a))?0:+f(a[t],t,a)}return c.initialize=function(t){a=t,g()},c.strength=function(t){return arguments.length?(f=typeof t=="function"?t:z(+t),g(),c):f},c.x=function(t){return arguments.length?(n=typeof t=="function"?t:z(+t),g(),c):n},c}function nn(n){var f=z(.1),a,y,m;typeof n!="function"&&(n=z(n==null?0:+n));function c(t){for(var h=0,e=a.length,v;h<e;++h)v=a[h],v.vy+=(m[h]-v.y)*y[h]*t}function g(){if(!a)return;var t,h=a.length;for(y=new Array(h),m=new Array(h),t=0;t<h;++t)y[t]=isNaN(m[t]=+n(a[t],t,a))?0:+f(a[t],t,a)}return c.initialize=function(t){a=t,g()},c.strength=function(t){return arguments.length?(f=typeof t=="function"?t:z(+t),g(),c):f},c.y=function(t){return arguments.length?(n=typeof t=="function"?t:z(+t),g(),c):n},c}export{P as forceCenter,K as forceCollide,b as forceLink,q as forceManyBody,k as forceRadial,Z as forceSimulation,_ as forceX,nn as forceY};export default null;
