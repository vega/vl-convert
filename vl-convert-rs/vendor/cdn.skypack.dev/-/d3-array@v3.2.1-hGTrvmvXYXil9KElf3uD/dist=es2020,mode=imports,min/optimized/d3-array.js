import{InternMap as X,InternSet as g}from"/-/internmap@v2.0.3-GWZlRrRMFcDlELwTQEZq/dist=es2020,mode=imports,min/optimized/internmap.js";export{InternMap,InternSet}from"/-/internmap@v2.0.3-GWZlRrRMFcDlELwTQEZq/dist=es2020,mode=imports,min/optimized/internmap.js";function a(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Y(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function S(n){let e,t,i;n.length!==2?(e=a,t=(u,l)=>a(n(u),l),i=(u,l)=>n(u)-l):(e=n===a||n===Y?n:An,t=n,i=n);function r(u,l,c=0,s=u.length){if(c<s){if(e(l,l)!==0)return s;do{const h=c+s>>>1;t(u[h],l)<0?c=h+1:s=h}while(c<s)}return c}function o(u,l,c=0,s=u.length){if(c<s){if(e(l,l)!==0)return s;do{const h=c+s>>>1;t(u[h],l)<=0?c=h+1:s=h}while(c<s)}return c}function f(u,l,c=0,s=u.length){const h=r(u,l,c,s-1);return h>c&&i(u[h-1],l)>-i(u[h],l)?h-1:h}return{left:r,center:f,right:o}}function An(){return 0}function _(n){return n===null?NaN:+n}function*k(n,e){if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let i of n)(i=e(i,++t,n))!=null&&(i=+i)>=i&&(yield i)}}const v=S(a),Z=v.right,En=v.left,Nn=S(_).center;function In(n,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let t=n.length;if(!((t=Math.floor(t))>=0))throw new RangeError("invalid length");if(!t||!e)return n;const i=G(e),r=n.slice();return i(n,r,0,t,1),i(r,n,0,t,1),i(n,r,0,t,1),n}const Rn=nn(G),qn=nn(Tn);function nn(n){return function(e,t,i=t){if(!((t=+t)>=0))throw new RangeError("invalid rx");if(!((i=+i)>=0))throw new RangeError("invalid ry");let{data:r,width:o,height:f}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((f=Math.floor(f!==void 0?f:r.length/o))>=0))throw new RangeError("invalid height");if(!o||!f||!t&&!i)return e;const u=t&&n(t),l=i&&n(i),c=r.slice();return u&&l?(y(u,c,r,o,f),y(u,r,c,o,f),y(u,c,r,o,f),x(l,r,c,o,f),x(l,c,r,o,f),x(l,r,c,o,f)):u?(y(u,r,c,o,f),y(u,c,r,o,f),y(u,r,c,o,f)):l&&(x(l,r,c,o,f),x(l,c,r,o,f),x(l,r,c,o,f)),e}}function y(n,e,t,i,r){for(let o=0,f=i*r;o<f;)n(e,t,o,o+=i,1)}function x(n,e,t,i,r){for(let o=0,f=i*r;o<i;++o)n(e,t,o,o+f,i)}function Tn(n){const e=G(n);return(t,i,r,o,f)=>{r<<=2,o<<=2,f<<=2,e(t,i,r+0,o+0,f),e(t,i,r+1,o+1,f),e(t,i,r+2,o+2,f),e(t,i,r+3,o+3,f)}}function G(n){const e=Math.floor(n);if(e===n)return jn(n);const t=n-e,i=2*n+1;return(r,o,f,u,l)=>{if(!((u-=l)>=f))return;let c=e*o[f];const s=l*e,h=s+l;for(let d=f,m=f+s;d<m;d+=l)c+=o[Math.min(u,d)];for(let d=f,m=u;d<=m;d+=l)c+=o[Math.min(u,d+s)],r[d]=(c+t*(o[Math.max(f,d-h)]+o[Math.min(u,d+h)]))/i,c-=o[Math.max(f,d-s)]}}function jn(n){const e=2*n+1;return(t,i,r,o,f)=>{if(!((o-=f)>=r))return;let u=n*i[r];const l=f*n;for(let c=r,s=r+l;c<s;c+=f)u+=i[Math.min(o,c)];for(let c=r,s=o;c<=s;c+=f)u+=i[Math.min(o,c+l)],t[c]=u/e,u-=i[Math.max(r,c-l)]}}function F(n,e){let t=0;if(e===void 0)for(let i of n)i!=null&&(i=+i)>=i&&++t;else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(r=+r)>=r&&++t}return t}function Fn(n){return n.length|0}function zn(n){return!(n>0)}function Ln(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function Vn(n){return e=>n(...e)}function Dn(...n){const e=typeof n[n.length-1]=="function"&&Vn(n.pop());n=n.map(Ln);const t=n.map(Fn),i=n.length-1,r=new Array(i+1).fill(0),o=[];if(i<0||t.some(zn))return o;for(;;){o.push(r.map((u,l)=>n[l][u]));let f=i;for(;++r[f]===t[f];){if(f===0)return e?o.map(e):o;r[f--]=0}}}function On(n,e){var t=0,i=0;return Float64Array.from(n,e===void 0?r=>t+=+r||0:r=>t+=+e(r,i++,n)||0)}function en(n,e){let t=0,i,r=0,o=0;if(e===void 0)for(let f of n)f!=null&&(f=+f)>=f&&(i=f-r,r+=i/++t,o+=i*(f-r));else{let f=-1;for(let u of n)(u=e(u,++f,n))!=null&&(u=+u)>=u&&(i=u-r,r+=i/++t,o+=i*(u-r))}if(t>1)return o/(t-1)}function tn(n,e){const t=en(n,e);return t&&Math.sqrt(t)}function z(n,e){let t,i;if(e===void 0)for(const r of n)r!=null&&(t===void 0?r>=r&&(t=i=r):(t>r&&(t=r),i<r&&(i=r)));else{let r=-1;for(let o of n)(o=e(o,++r,n))!=null&&(t===void 0?o>=o&&(t=i=o):(t>o&&(t=o),i<o&&(i=o)))}return[t,i]}class U{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=t[r],f=e+o,u=Math.abs(e)<Math.abs(o)?e-(f-o):o-(f-e);u&&(t[i++]=u),e=f}return t[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let t=this._n,i,r,o,f=0;if(t>0){for(f=e[--t];t>0&&!(i=f,r=e[--t],f=i+r,o=r-(f-i),o););t>0&&(o<0&&e[t-1]<0||o>0&&e[t-1]>0)&&(r=o*2,i=f+r,r==i-f&&(f=i))}return f}}function Sn(n,e){const t=new U;if(e===void 0)for(let i of n)(i=+i)&&t.add(i);else{let i=-1;for(let r of n)(r=+e(r,++i,n))&&t.add(r)}return+t}function Zn(n,e){const t=new U;let i=-1;return Float64Array.from(n,e===void 0?r=>t.add(+r||0):r=>t.add(+e(r,++i,n)||0))}function p(n){return n}function rn(n,...e){return b(n,p,p,e)}function on(n,...e){return b(n,Array.from,p,e)}function fn(n,e){for(let t=1,i=e.length;t<i;++t)n=n.flatMap(r=>r.pop().map(([o,f])=>[...r,o,f]));return n}function Gn(n,...e){return fn(on(n,...e),e)}function Un(n,e,...t){return fn(ln(n,e,...t),t)}function un(n,e,...t){return b(n,p,e,t)}function ln(n,e,...t){return b(n,Array.from,e,t)}function Bn(n,...e){return b(n,p,cn,e)}function Cn(n,...e){return b(n,Array.from,cn,e)}function cn(n){if(n.length!==1)throw new Error("duplicate key");return n[0]}function b(n,e,t,i){return function r(o,f){if(f>=i.length)return t(o);const u=new X,l=i[f++];let c=-1;for(const s of o){const h=l(s,++c,o),d=u.get(h);d?d.push(s):u.set(h,[s])}for(const[s,h]of u)u.set(s,r(h,f));return e(u)}(n,0)}function hn(n,e){return Array.from(e,t=>n[t])}function B(n,...e){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[t]=e;if(t&&t.length!==2||e.length>1){const i=Uint32Array.from(n,(r,o)=>o);return e.length>1?(e=e.map(r=>n.map(r)),i.sort((r,o)=>{for(const f of e){const u=A(f[r],f[o]);if(u)return u}})):(t=n.map(t),i.sort((r,o)=>A(t[r],t[o]))),hn(n,i)}return n.sort(C(t))}function C(n=a){if(n===a)return A;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function A(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}function Qn(n,e,t){return(e.length!==2?B(un(n,e,t),([i,r],[o,f])=>a(r,f)||a(i,o)):B(rn(n,t),([i,r],[o,f])=>e(r,f)||a(i,o))).map(([i])=>i)}var Wn=Array.prototype,$n=Wn.slice;function Q(n){return()=>n}var W=Math.sqrt(50),$=Math.sqrt(10),H=Math.sqrt(2);function dn(n,e,t){var i,r=-1,o,f,u;if(e=+e,n=+n,t=+t,n===e&&t>0)return[n];if((i=e<n)&&(o=n,n=e,e=o),(u=R(n,e,t))===0||!isFinite(u))return[];if(u>0){let l=Math.round(n/u),c=Math.round(e/u);for(l*u<n&&++l,c*u>e&&--c,f=new Array(o=c-l+1);++r<o;)f[r]=(l+r)*u}else{u=-u;let l=Math.round(n*u),c=Math.round(e*u);for(l/u<n&&++l,c/u>e&&--c,f=new Array(o=c-l+1);++r<o;)f[r]=(l+r)/u}return i&&f.reverse(),f}function R(n,e,t){var i=(e-n)/Math.max(0,t),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=W?10:o>=$?5:o>=H?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=W?10:o>=$?5:o>=H?2:1)}function Hn(n,e,t){var i=Math.abs(e-n)/Math.max(0,t),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=W?r*=10:o>=$?r*=5:o>=H&&(r*=2),e<n?-r:r}function sn(n,e,t){let i;for(;;){const r=R(n,e,t);if(r===i||r===0||!isFinite(r))return[n,e];r>0?(n=Math.floor(n/r)*r,e=Math.ceil(e/r)*r):r<0&&(n=Math.ceil(n*r)/r,e=Math.floor(e*r)/r),i=r}}function mn(n){return Math.ceil(Math.log(F(n))/Math.LN2)+1}function an(){var n=p,e=z,t=mn;function i(r){Array.isArray(r)||(r=Array.from(r));var o,f=r.length,u,l,c=new Array(f);for(o=0;o<f;++o)c[o]=n(r[o],o,r);var s=e(c),h=s[0],d=s[1],m=t(c,h,d);if(!Array.isArray(m)){const T=d,j=+m;if(e===z&&([h,d]=sn(h,d,j)),m=dn(h,d,j),m[0]<=h&&(l=R(h,d,j)),m[m.length-1]>=d)if(T>=d&&e===z){const M=R(h,d,j);isFinite(M)&&(M>0?d=(Math.floor(d/M)+1)*M:M<0&&(d=(Math.ceil(d*-M)+1)/-M))}else m.pop()}for(var w=m.length,E=0,N=w;m[E]<=h;)++E;for(;m[N-1]>d;)--N;(E||N<w)&&(m=m.slice(E,N),w=N-E);var I=new Array(w+1),O;for(o=0;o<=w;++o)O=I[o]=[],O.x0=o>0?m[o-1]:h,O.x1=o<w?m[o]:d;if(isFinite(l)){if(l>0)for(o=0;o<f;++o)(u=c[o])!=null&&h<=u&&u<=d&&I[Math.min(w,Math.floor((u-h)/l))].push(r[o]);else if(l<0){for(o=0;o<f;++o)if((u=c[o])!=null&&h<=u&&u<=d){const T=Math.floor((h-u)*l);I[Math.min(w,T+(m[T]<=u))].push(r[o])}}}else for(o=0;o<f;++o)(u=c[o])!=null&&h<=u&&u<=d&&I[Z(m,u,0,w)].push(r[o]);return I}return i.value=function(r){return arguments.length?(n=typeof r=="function"?r:Q(r),i):n},i.domain=function(r){return arguments.length?(e=typeof r=="function"?r:Q([r[0],r[1]]),i):e},i.thresholds=function(r){return arguments.length?(t=typeof r=="function"?r:Q(Array.isArray(r)?$n.call(r):r),i):t},i}function J(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function K(n,e){let t,i=-1,r=-1;if(e===void 0)for(const o of n)++r,o!=null&&(t<o||t===void 0&&o>=o)&&(t=o,i=r);else for(let o of n)(o=e(o,++r,n))!=null&&(t<o||t===void 0&&o>=o)&&(t=o,i=r);return i}function L(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function P(n,e){let t,i=-1,r=-1;if(e===void 0)for(const o of n)++r,o!=null&&(t>o||t===void 0&&o>=o)&&(t=o,i=r);else for(let o of n)(o=e(o,++r,n))!=null&&(t>o||t===void 0&&o>=o)&&(t=o,i=r);return i}function V(n,e,t=0,i=Infinity,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?A:C(r);i>t;){if(i-t>600){const l=i-t+1,c=e-t+1,s=Math.log(l),h=.5*Math.exp(2*s/3),d=.5*Math.sqrt(s*h*(l-h)/l)*(c-l/2<0?-1:1),m=Math.max(t,Math.floor(e-c*h/l+d)),w=Math.min(i,Math.floor(e+(l-c)*h/l+d));V(n,e,m,w,r)}const o=n[e];let f=t,u=i;for(q(n,t,e),r(n[i],o)>0&&q(n,t,i);f<u;){for(q(n,f,u),++f,--u;r(n[f],o)<0;)++f;for(;r(n[u],o)>0;)--u}r(n[t],o)===0?q(n,t,u):(++u,q(n,u,i)),u<=e&&(t=u+1),e<=u&&(i=u-1)}return n}function q(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function wn(n,e=a){let t,i=!1;if(e.length===1){let r;for(const o of n){const f=e(o);(i?a(f,r)>0:a(f,f)===0)&&(t=o,r=f,i=!0)}}else for(const r of n)(i?e(r,t)>0:e(r,r)===0)&&(t=r,i=!0);return t}function D(n,e,t){if(n=Float64Array.from(k(n,t)),!(i=n.length)||isNaN(e=+e))return;if(e<=0||i<2)return L(n);if(e>=1)return J(n);var i,r=(i-1)*e,o=Math.floor(r),f=J(V(n,o).subarray(0,o+1)),u=L(n.subarray(o+1));return f+(u-f)*(r-o)}function Jn(n,e,t=_){if(!(i=n.length)||isNaN(e=+e))return;if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,o=Math.floor(r),f=+t(n[o],o,n),u=+t(n[o+1],o+1,n);return f+(u-f)*(r-o)}function Mn(n,e,t){if(n=Float64Array.from(k(n,t)),!(i=n.length)||isNaN(e=+e))return;if(e<=0||i<2)return P(n);if(e>=1)return K(n);var i,r=Math.floor((i-1)*e),o=(u,l)=>A(n[u],n[l]),f=V(Uint32Array.from(n,(u,l)=>l),r,0,i-1,o);return wn(f.subarray(0,r+1),u=>n[u])}function Kn(n,e,t){return Math.ceil((t-e)/(2*(D(n,.75)-D(n,.25))*Math.pow(F(n),-1/3)))}function Pn(n,e,t){return Math.ceil((t-e)*Math.cbrt(F(n))/(3.49*tn(n)))}function Xn(n,e){let t=0,i=0;if(e===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(++t,i+=r);else{let r=-1;for(let o of n)(o=e(o,++r,n))!=null&&(o=+o)>=o&&(++t,i+=o)}if(t)return i/t}function Yn(n,e){return D(n,.5,e)}function _n(n,e){return Mn(n,.5,e)}function*kn(n){for(const e of n)yield*e}function vn(n){return Array.from(kn(n))}function ne(n,e){const t=new X;if(e===void 0)for(let o of n)o!=null&&o>=o&&t.set(o,(t.get(o)||0)+1);else{let o=-1;for(let f of n)(f=e(f,++o,n))!=null&&f>=f&&t.set(f,(t.get(f)||0)+1)}let i,r=0;for(const[o,f]of t)f>r&&(r=f,i=o);return i}function ee(n,e=te){const t=[];let i,r=!1;for(const o of n)r&&t.push(e(i,o)),i=o,r=!0;return t}function te(n,e){return[n,e]}function re(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,o=new Array(r);++i<r;)o[i]=n+i*t;return o}function ie(n,e=a){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let t=Array.from(n);const i=new Float64Array(t.length);e.length!==2&&(t=t.map(e),e=a);const r=(u,l)=>e(t[u],t[l]);let o,f;return Uint32Array.from(t,(u,l)=>l).sort(e===a?(u,l)=>A(t[u],t[l]):C(r)).forEach((u,l)=>{const c=r(u,o===void 0?u:o);c>=0?((o===void 0||c>0)&&(o=u,f=l),i[u]=f):i[u]=NaN}),i}function oe(n,e=a){let t,i=!1;if(e.length===1){let r;for(const o of n){const f=e(o);(i?a(f,r)<0:a(f,f)===0)&&(t=o,r=f,i=!0)}}else for(const r of n)(i?e(r,t)<0:e(r,r)===0)&&(t=r,i=!0);return t}function gn(n,e=a){if(e.length===1)return P(n,e);let t,i=-1,r=-1;for(const o of n)++r,(i<0?e(o,o)===0:e(o,t)<0)&&(t=o,i=r);return i}function fe(n,e=a){if(e.length===1)return K(n,e);let t,i=-1,r=-1;for(const o of n)++r,(i<0?e(o,o)===0:e(o,t)>0)&&(t=o,i=r);return i}function ue(n,e){const t=gn(n,e);return t<0?void 0:t}var le=yn(Math.random);function yn(n){return function(t,i=0,r=t.length){let o=r-(i=+i);for(;o;){const f=n()*o--|0,u=t[o+i];t[o+i]=t[f+i],t[f+i]=u}return t}}function ce(n,e){let t=0;if(e===void 0)for(let i of n)(i=+i)&&(t+=i);else{let i=-1;for(let r of n)(r=+e(r,++i,n))&&(t+=r)}return t}function xn(n){if(!(o=n.length))return[];for(var e=-1,t=L(n,he),i=new Array(t);++e<t;)for(var r=-1,o,f=i[e]=new Array(o);++r<o;)f[r]=n[r][e];return i}function he(n){return n.length}function de(){return xn(arguments)}function se(n,e){if(typeof e!="function")throw new TypeError("test is not a function");let t=-1;for(const i of n)if(!e(i,++t,n))return!1;return!0}function me(n,e){if(typeof e!="function")throw new TypeError("test is not a function");let t=-1;for(const i of n)if(e(i,++t,n))return!0;return!1}function ae(n,e){if(typeof e!="function")throw new TypeError("test is not a function");const t=[];let i=-1;for(const r of n)e(r,++i,n)&&t.push(r);return t}function we(n,e){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(n,(t,i)=>e(t,i,n))}function Me(n,e,t){if(typeof e!="function")throw new TypeError("reducer is not a function");const i=n[Symbol.iterator]();let r,o,f=-1;if(arguments.length<3){if({done:r,value:t}=i.next(),r)return;++f}for(;{done:r,value:o}=i.next(),!r;)t=e(t,o,++f,n);return t}function ge(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}function ye(n,...e){n=new g(n);for(const t of e)for(const i of t)n.delete(i);return n}function xe(n,e){const t=e[Symbol.iterator](),i=new g;for(const r of n){if(i.has(r))return!1;let o,f;for(;({value:o,done:f}=t.next())&&!f;){if(Object.is(r,o))return!1;i.add(o)}}return!0}function pe(n,...e){n=new g(n),e=e.map(be);n:for(const t of n)for(const i of e)if(!i.has(t)){n.delete(t);continue n}return n}function be(n){return n instanceof g?n:new g(n)}function pn(n,e){const t=n[Symbol.iterator](),i=new Set;for(const r of e){const o=bn(r);if(i.has(o))continue;let f,u;for(;{value:f,done:u}=t.next();){if(u)return!1;const l=bn(f);if(i.add(l),Object.is(o,l))break}}return!0}function bn(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Ae(n,e){return pn(e,n)}function Ee(...n){const e=new g;for(const t of n)for(const i of t)e.add(i);return e}export{U as Adder,a as ascending,an as bin,Z as bisect,Nn as bisectCenter,En as bisectLeft,Z as bisectRight,S as bisector,In as blur,Rn as blur2,qn as blurImage,F as count,Dn as cross,On as cumsum,Y as descending,tn as deviation,ye as difference,xe as disjoint,se as every,z as extent,Zn as fcumsum,ae as filter,Gn as flatGroup,Un as flatRollup,Sn as fsum,wn as greatest,fe as greatestIndex,rn as group,Qn as groupSort,on as groups,an as histogram,Bn as index,Cn as indexes,pe as intersection,oe as least,gn as leastIndex,we as map,J as max,K as maxIndex,Xn as mean,Yn as median,_n as medianIndex,vn as merge,L as min,P as minIndex,ne as mode,sn as nice,ee as pairs,hn as permute,D as quantile,Mn as quantileIndex,Jn as quantileSorted,V as quickselect,re as range,ie as rank,Me as reduce,ge as reverse,un as rollup,ln as rollups,ue as scan,le as shuffle,yn as shuffler,me as some,B as sort,Ae as subset,ce as sum,pn as superset,Kn as thresholdFreedmanDiaconis,Pn as thresholdScott,mn as thresholdSturges,R as tickIncrement,Hn as tickStep,dn as ticks,xn as transpose,Ee as union,en as variance,de as zip};export default null;
