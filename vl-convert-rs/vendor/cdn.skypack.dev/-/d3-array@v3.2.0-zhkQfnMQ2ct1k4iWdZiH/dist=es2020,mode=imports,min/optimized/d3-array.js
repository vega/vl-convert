import{InternMap as J,InternSet as M}from"/-/internmap@v2.0.3-GWZlRrRMFcDlELwTQEZq/dist=es2020,mode=imports,min/optimized/internmap.js";export{InternMap,InternSet}from"/-/internmap@v2.0.3-GWZlRrRMFcDlELwTQEZq/dist=es2020,mode=imports,min/optimized/internmap.js";function a(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function K(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function O(n){let e,r,i;n.length!==2?(e=a,r=(u,l)=>a(n(u),l),i=(u,l)=>n(u)-l):(e=n===a||n===K?n:pn,r=n,i=n);function t(u,l,c=0,s=u.length){if(c<s){if(e(l,l)!==0)return s;do{const h=c+s>>>1;r(u[h],l)<0?c=h+1:s=h}while(c<s)}return c}function f(u,l,c=0,s=u.length){if(c<s){if(e(l,l)!==0)return s;do{const h=c+s>>>1;r(u[h],l)<=0?c=h+1:s=h}while(c<s)}return c}function o(u,l,c=0,s=u.length){const h=t(u,l,c,s-1);return h>c&&i(u[h-1],l)>-i(u[h],l)?h-1:h}return{left:t,center:o,right:f}}function pn(){return 0}function P(n){return n===null?NaN:+n}function*X(n,e){if(e===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of n)(i=e(i,++r,n))!=null&&(i=+i)>=i&&(yield i)}}const Y=O(a),S=Y.right,An=Y.left,bn=O(P).center;function En(n,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let r=n.length;if(!((r=Math.floor(r))>=0))throw new RangeError("invalid length");if(!r||!e)return n;const i=Z(e),t=n.slice();return i(n,t,0,r,1),i(t,n,0,r,1),i(n,t,0,r,1),n}const In=_(Z),Nn=_(Rn);function _(n){return function(e,r,i=r){if(!((r=+r)>=0))throw new RangeError("invalid rx");if(!((i=+i)>=0))throw new RangeError("invalid ry");let{data:t,width:f,height:o}=e;if(!((f=Math.floor(f))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:t.length/f))>=0))throw new RangeError("invalid height");if(!f||!o||!r&&!i)return e;const u=r&&n(r),l=i&&n(i),c=t.slice();return u&&l?(y(u,c,t,f,o),y(u,t,c,f,o),y(u,c,t,f,o),x(l,t,c,f,o),x(l,c,t,f,o),x(l,t,c,f,o)):u?(y(u,t,c,f,o),y(u,c,t,f,o),y(u,t,c,f,o)):l&&(x(l,t,c,f,o),x(l,c,t,f,o),x(l,t,c,f,o)),e}}function y(n,e,r,i,t){for(let f=0,o=i*t;f<o;)n(e,r,f,f+=i,1)}function x(n,e,r,i,t){for(let f=0,o=i*t;f<i;++f)n(e,r,f,f+o,i)}function Rn(n){const e=Z(n);return(r,i,t,f,o)=>{t<<=2,f<<=2,o<<=2,e(r,i,t+0,f+0,o),e(r,i,t+1,f+1,o),e(r,i,t+2,f+2,o),e(r,i,t+3,f+3,o)}}function Z(n){const e=Math.floor(n);if(e===n)return qn(n);const r=n-e,i=2*n+1;return(t,f,o,u,l)=>{if(!((u-=l)>=o))return;let c=e*f[o];const s=l*e,h=s+l;for(let d=o,m=o+s;d<m;d+=l)c+=f[Math.min(u,d)];for(let d=o,m=u;d<=m;d+=l)c+=f[Math.min(u,d+s)],t[d]=(c+r*(f[Math.max(o,d-h)]+f[Math.min(u,d+h)]))/i,c-=f[Math.max(o,d-s)]}}function qn(n){const e=2*n+1;return(r,i,t,f,o)=>{if(!((f-=o)>=t))return;let u=n*i[t];const l=o*n;for(let c=t,s=t+l;c<s;c+=o)u+=i[Math.min(f,c)];for(let c=t,s=f;c<=s;c+=o)u+=i[Math.min(f,c+l)],r[c]=u/e,u-=i[Math.max(t,c-l)]}}function T(n,e){let r=0;if(e===void 0)for(let i of n)i!=null&&(i=+i)>=i&&++r;else{let i=-1;for(let t of n)(t=e(t,++i,n))!=null&&(t=+t)>=t&&++r}return r}function Tn(n){return n.length|0}function jn(n){return!(n>0)}function Fn(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function zn(n){return e=>n(...e)}function Ln(...n){const e=typeof n[n.length-1]=="function"&&zn(n.pop());n=n.map(Fn);const r=n.map(Tn),i=n.length-1,t=new Array(i+1).fill(0),f=[];if(i<0||r.some(jn))return f;for(;;){f.push(t.map((u,l)=>n[l][u]));let o=i;for(;++t[o]===r[o];){if(o===0)return e?f.map(e):f;t[o--]=0}}}function Vn(n,e){var r=0,i=0;return Float64Array.from(n,e===void 0?t=>r+=+t||0:t=>r+=+e(t,i++,n)||0)}function v(n,e){let r=0,i,t=0,f=0;if(e===void 0)for(let o of n)o!=null&&(o=+o)>=o&&(i=o-t,t+=i/++r,f+=i*(o-t));else{let o=-1;for(let u of n)(u=e(u,++o,n))!=null&&(u=+u)>=u&&(i=u-t,t+=i/++r,f+=i*(u-t))}if(r>1)return f/(r-1)}function nn(n,e){const r=v(n,e);return r&&Math.sqrt(r)}function j(n,e){let r,i;if(e===void 0)for(const t of n)t!=null&&(r===void 0?t>=t&&(r=i=t):(r>t&&(r=t),i<t&&(i=t)));else{let t=-1;for(let f of n)(f=e(f,++t,n))!=null&&(r===void 0?f>=f&&(r=i=f):(r>f&&(r=f),i<f&&(i=f)))}return[r,i]}class k{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const r=this._partials;let i=0;for(let t=0;t<this._n&&t<32;t++){const f=r[t],o=e+f,u=Math.abs(e)<Math.abs(f)?e-(o-f):f-(o-e);u&&(r[i++]=u),e=o}return r[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let r=this._n,i,t,f,o=0;if(r>0){for(o=e[--r];r>0&&!(i=o,t=e[--r],o=i+t,f=t-(o-i),f););r>0&&(f<0&&e[r-1]<0||f>0&&e[r-1]>0)&&(t=f*2,i=o+t,t==i-o&&(o=i))}return o}}function Dn(n,e){const r=new k;if(e===void 0)for(let i of n)(i=+i)&&r.add(i);else{let i=-1;for(let t of n)(t=+e(t,++i,n))&&r.add(t)}return+r}function On(n,e){const r=new k;let i=-1;return Float64Array.from(n,e===void 0?t=>r.add(+t||0):t=>r.add(+e(t,++i,n)||0))}function p(n){return n}function en(n,...e){return A(n,p,p,e)}function tn(n,...e){return A(n,Array.from,p,e)}function rn(n,e){for(let r=1,i=e.length;r<i;++r)n=n.flatMap(t=>t.pop().map(([f,o])=>[...t,f,o]));return n}function Sn(n,...e){return rn(tn(n,...e),e)}function Zn(n,e,...r){return rn(on(n,e,...r),r)}function fn(n,e,...r){return A(n,p,e,r)}function on(n,e,...r){return A(n,Array.from,e,r)}function kn(n,...e){return A(n,p,un,e)}function Gn(n,...e){return A(n,Array.from,un,e)}function un(n){if(n.length!==1)throw new Error("duplicate key");return n[0]}function A(n,e,r,i){return function t(f,o){if(o>=i.length)return r(f);const u=new J,l=i[o++];let c=-1;for(const s of f){const h=l(s,++c,f),d=u.get(h);d?d.push(s):u.set(h,[s])}for(const[s,h]of u)u.set(s,t(h,o));return e(u)}(n,0)}function ln(n,e){return Array.from(e,r=>n[r])}function G(n,...e){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[r]=e;if(r&&r.length!==2||e.length>1){const i=Uint32Array.from(n,(t,f)=>f);return e.length>1?(e=e.map(t=>n.map(t)),i.sort((t,f)=>{for(const o of e){const u=b(o[t],o[f]);if(u)return u}})):(r=n.map(r),i.sort((t,f)=>b(r[t],r[f]))),ln(n,i)}return n.sort(U(r))}function U(n=a){if(n===a)return b;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,r)=>{const i=n(e,r);return i||i===0?i:(n(r,r)===0)-(n(e,e)===0)}}function b(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}function Un(n,e,r){return(e.length!==2?G(fn(n,e,r),([i,t],[f,o])=>a(t,o)||a(i,f)):G(en(n,r),([i,t],[f,o])=>e(t,o)||a(i,f))).map(([i])=>i)}var Bn=Array.prototype,Cn=Bn.slice;function F(n){return()=>n}var B=Math.sqrt(50),C=Math.sqrt(10),Q=Math.sqrt(2);function cn(n,e,r){var i,t=-1,f,o,u;if(e=+e,n=+n,r=+r,n===e&&r>0)return[n];if((i=e<n)&&(f=n,n=e,e=f),(u=I(n,e,r))===0||!isFinite(u))return[];if(u>0){let l=Math.round(n/u),c=Math.round(e/u);for(l*u<n&&++l,c*u>e&&--c,o=new Array(f=c-l+1);++t<f;)o[t]=(l+t)*u}else{u=-u;let l=Math.round(n*u),c=Math.round(e*u);for(l/u<n&&++l,c/u>e&&--c,o=new Array(f=c-l+1);++t<f;)o[t]=(l+t)/u}return i&&o.reverse(),o}function I(n,e,r){var i=(e-n)/Math.max(0,r),t=Math.floor(Math.log(i)/Math.LN10),f=i/Math.pow(10,t);return t>=0?(f>=B?10:f>=C?5:f>=Q?2:1)*Math.pow(10,t):-Math.pow(10,-t)/(f>=B?10:f>=C?5:f>=Q?2:1)}function Qn(n,e,r){var i=Math.abs(e-n)/Math.max(0,r),t=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),f=i/t;return f>=B?t*=10:f>=C?t*=5:f>=Q&&(t*=2),e<n?-t:t}function hn(n,e,r){let i;for(;;){const t=I(n,e,r);if(t===i||t===0||!isFinite(t))return[n,e];t>0?(n=Math.floor(n/t)*t,e=Math.ceil(e/t)*t):t<0&&(n=Math.ceil(n*t)/t,e=Math.floor(e*t)/t),i=t}}function dn(n){return Math.ceil(Math.log(T(n))/Math.LN2)+1}function sn(){var n=p,e=j,r=dn;function i(t){Array.isArray(t)||(t=Array.from(t));var f,o=t.length,u,l,c=new Array(o);for(f=0;f<o;++f)c[f]=n(t[f],f,t);var s=e(c),h=s[0],d=s[1],m=r(c,h,d);if(!Array.isArray(m)){const R=d,q=+m;if(e===j&&([h,d]=hn(h,d,q)),m=cn(h,d,q),m[0]<=h&&(l=I(h,d,q)),m[m.length-1]>=d)if(R>=d&&e===j){const g=I(h,d,q);isFinite(g)&&(g>0?d=(Math.floor(d/g)+1)*g:g<0&&(d=(Math.ceil(d*-g)+1)/-g))}else m.pop()}for(var w=m.length;m[0]<=h;)m.shift(),--w;for(;m[w-1]>d;)m.pop(),--w;var E=new Array(w+1),D;for(f=0;f<=w;++f)D=E[f]=[],D.x0=f>0?m[f-1]:h,D.x1=f<w?m[f]:d;if(isFinite(l)){if(l>0)for(f=0;f<o;++f)(u=c[f])!=null&&h<=u&&u<=d&&E[Math.min(w,Math.floor((u-h)/l))].push(t[f]);else if(l<0){for(f=0;f<o;++f)if((u=c[f])!=null&&h<=u&&u<=d){const R=Math.floor((h-u)*l);E[Math.min(w,R+(m[R]<=u))].push(t[f])}}}else for(f=0;f<o;++f)(u=c[f])!=null&&h<=u&&u<=d&&E[S(m,u,0,w)].push(t[f]);return E}return i.value=function(t){return arguments.length?(n=typeof t=="function"?t:F(t),i):n},i.domain=function(t){return arguments.length?(e=typeof t=="function"?t:F([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(r=typeof t=="function"?t:Array.isArray(t)?F(Cn.call(t)):F(t),i):r},i}function W(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let t of n)(t=e(t,++i,n))!=null&&(r<t||r===void 0&&t>=t)&&(r=t)}return r}function $(n,e){let r,i=-1,t=-1;if(e===void 0)for(const f of n)++t,f!=null&&(r<f||r===void 0&&f>=f)&&(r=f,i=t);else for(let f of n)(f=e(f,++t,n))!=null&&(r<f||r===void 0&&f>=f)&&(r=f,i=t);return i}function z(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let t of n)(t=e(t,++i,n))!=null&&(r>t||r===void 0&&t>=t)&&(r=t)}return r}function H(n,e){let r,i=-1,t=-1;if(e===void 0)for(const f of n)++t,f!=null&&(r>f||r===void 0&&f>=f)&&(r=f,i=t);else for(let f of n)(f=e(f,++t,n))!=null&&(r>f||r===void 0&&f>=f)&&(r=f,i=t);return i}function L(n,e,r=0,i=n.length-1,t){for(t=t===void 0?b:U(t);i>r;){if(i-r>600){const l=i-r+1,c=e-r+1,s=Math.log(l),h=.5*Math.exp(2*s/3),d=.5*Math.sqrt(s*h*(l-h)/l)*(c-l/2<0?-1:1),m=Math.max(r,Math.floor(e-c*h/l+d)),w=Math.min(i,Math.floor(e+(l-c)*h/l+d));L(n,e,m,w,t)}const f=n[e];let o=r,u=i;for(N(n,r,e),t(n[i],f)>0&&N(n,r,i);o<u;){for(N(n,o,u),++o,--u;t(n[o],f)<0;)++o;for(;t(n[u],f)>0;)--u}t(n[r],f)===0?N(n,r,u):(++u,N(n,u,i)),u<=e&&(r=u+1),e<=u&&(i=u-1)}return n}function N(n,e,r){const i=n[e];n[e]=n[r],n[r]=i}function mn(n,e=a){let r,i=!1;if(e.length===1){let t;for(const f of n){const o=e(f);(i?a(o,t)>0:a(o,o)===0)&&(r=f,t=o,i=!0)}}else for(const t of n)(i?e(t,r)>0:e(t,t)===0)&&(r=t,i=!0);return r}function V(n,e,r){if(n=Float64Array.from(X(n,r)),!(i=n.length))return;if((e=+e)<=0||i<2)return z(n);if(e>=1)return W(n);var i,t=(i-1)*e,f=Math.floor(t),o=W(L(n,f).subarray(0,f+1)),u=z(n.subarray(f+1));return o+(u-o)*(t-f)}function Wn(n,e,r=P){if(!(i=n.length))return;if((e=+e)<=0||i<2)return+r(n[0],0,n);if(e>=1)return+r(n[i-1],i-1,n);var i,t=(i-1)*e,f=Math.floor(t),o=+r(n[f],f,n),u=+r(n[f+1],f+1,n);return o+(u-o)*(t-f)}function an(n,e,r){if(n=Float64Array.from(X(n,r)),!(i=n.length))return;if((e=+e)<=0||i<2)return H(n);if(e>=1)return $(n);var i,t=Math.floor((i-1)*e),f=(u,l)=>b(n[u],n[l]),o=L(Uint32Array.from(n,(u,l)=>l),t,0,i-1,f);return mn(o.subarray(0,t+1),u=>n[u])}function $n(n,e,r){return Math.ceil((r-e)/(2*(V(n,.75)-V(n,.25))*Math.pow(T(n),-1/3)))}function Hn(n,e,r){return Math.ceil((r-e)*Math.cbrt(T(n))/(3.49*nn(n)))}function Jn(n,e){let r=0,i=0;if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(++r,i+=t);else{let t=-1;for(let f of n)(f=e(f,++t,n))!=null&&(f=+f)>=f&&(++r,i+=f)}if(r)return i/r}function Kn(n,e){return V(n,.5,e)}function Pn(n,e){return an(n,.5,e)}function*Xn(n){for(const e of n)yield*e}function Yn(n){return Array.from(Xn(n))}function _n(n,e){const r=new J;if(e===void 0)for(let f of n)f!=null&&f>=f&&r.set(f,(r.get(f)||0)+1);else{let f=-1;for(let o of n)(o=e(o,++f,n))!=null&&o>=o&&r.set(o,(r.get(o)||0)+1)}let i,t=0;for(const[f,o]of r)o>t&&(t=o,i=f);return i}function vn(n,e=ne){const r=[];let i,t=!1;for(const f of n)t&&r.push(e(i,f)),i=f,t=!0;return r}function ne(n,e){return[n,e]}function ee(n,e,r){n=+n,e=+e,r=(t=arguments.length)<2?(e=n,n=0,1):t<3?1:+r;for(var i=-1,t=Math.max(0,Math.ceil((e-n)/r))|0,f=new Array(t);++i<t;)f[i]=n+i*r;return f}function te(n,e=a){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let r=Array.from(n);const i=new Float64Array(r.length);e.length!==2&&(r=r.map(e),e=a);const t=(u,l)=>e(r[u],r[l]);let f,o;return Uint32Array.from(r,(u,l)=>l).sort(e===a?(u,l)=>b(r[u],r[l]):U(t)).forEach((u,l)=>{const c=t(u,f===void 0?u:f);c>=0?((f===void 0||c>0)&&(f=u,o=l),i[u]=o):i[u]=NaN}),i}function re(n,e=a){let r,i=!1;if(e.length===1){let t;for(const f of n){const o=e(f);(i?a(o,t)<0:a(o,o)===0)&&(r=f,t=o,i=!0)}}else for(const t of n)(i?e(t,r)<0:e(t,t)===0)&&(r=t,i=!0);return r}function wn(n,e=a){if(e.length===1)return H(n,e);let r,i=-1,t=-1;for(const f of n)++t,(i<0?e(f,f)===0:e(f,r)<0)&&(r=f,i=t);return i}function ie(n,e=a){if(e.length===1)return $(n,e);let r,i=-1,t=-1;for(const f of n)++t,(i<0?e(f,f)===0:e(f,r)>0)&&(r=f,i=t);return i}function fe(n,e){const r=wn(n,e);return r<0?void 0:r}var oe=gn(Math.random);function gn(n){return function(r,i=0,t=r.length){let f=t-(i=+i);for(;f;){const o=n()*f--|0,u=r[f+i];r[f+i]=r[o+i],r[o+i]=u}return r}}function ue(n,e){let r=0;if(e===void 0)for(let i of n)(i=+i)&&(r+=i);else{let i=-1;for(let t of n)(t=+e(t,++i,n))&&(r+=t)}return r}function Mn(n){if(!(f=n.length))return[];for(var e=-1,r=z(n,le),i=new Array(r);++e<r;)for(var t=-1,f,o=i[e]=new Array(f);++t<f;)o[t]=n[t][e];return i}function le(n){return n.length}function ce(){return Mn(arguments)}function he(n,e){if(typeof e!="function")throw new TypeError("test is not a function");let r=-1;for(const i of n)if(!e(i,++r,n))return!1;return!0}function de(n,e){if(typeof e!="function")throw new TypeError("test is not a function");let r=-1;for(const i of n)if(e(i,++r,n))return!0;return!1}function se(n,e){if(typeof e!="function")throw new TypeError("test is not a function");const r=[];let i=-1;for(const t of n)e(t,++i,n)&&r.push(t);return r}function me(n,e){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(n,(r,i)=>e(r,i,n))}function ae(n,e,r){if(typeof e!="function")throw new TypeError("reducer is not a function");const i=n[Symbol.iterator]();let t,f,o=-1;if(arguments.length<3){if({done:t,value:r}=i.next(),t)return;++o}for(;{done:t,value:f}=i.next(),!t;)r=e(r,f,++o,n);return r}function we(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}function ge(n,...e){n=new M(n);for(const r of e)for(const i of r)n.delete(i);return n}function Me(n,e){const r=e[Symbol.iterator](),i=new M;for(const t of n){if(i.has(t))return!1;let f,o;for(;({value:f,done:o}=r.next())&&!o;){if(Object.is(t,f))return!1;i.add(f)}}return!0}function ye(n,...e){n=new M(n),e=e.map(xe);n:for(const r of n)for(const i of e)if(!i.has(r)){n.delete(r);continue n}return n}function xe(n){return n instanceof M?n:new M(n)}function yn(n,e){const r=n[Symbol.iterator](),i=new Set;for(const t of e){const f=xn(t);if(i.has(f))continue;let o,u;for(;{value:o,done:u}=r.next();){if(u)return!1;const l=xn(o);if(i.add(l),Object.is(f,l))break}}return!0}function xn(n){return n!==null&&typeof n=="object"?n.valueOf():n}function pe(n,e){return yn(e,n)}function Ae(...n){const e=new M;for(const r of n)for(const i of r)e.add(i);return e}export{k as Adder,a as ascending,sn as bin,S as bisect,bn as bisectCenter,An as bisectLeft,S as bisectRight,O as bisector,En as blur,In as blur2,Nn as blurImage,T as count,Ln as cross,Vn as cumsum,K as descending,nn as deviation,ge as difference,Me as disjoint,he as every,j as extent,On as fcumsum,se as filter,Sn as flatGroup,Zn as flatRollup,Dn as fsum,mn as greatest,ie as greatestIndex,en as group,Un as groupSort,tn as groups,sn as histogram,kn as index,Gn as indexes,ye as intersection,re as least,wn as leastIndex,me as map,W as max,$ as maxIndex,Jn as mean,Kn as median,Pn as medianIndex,Yn as merge,z as min,H as minIndex,_n as mode,hn as nice,vn as pairs,ln as permute,V as quantile,an as quantileIndex,Wn as quantileSorted,L as quickselect,ee as range,te as rank,ae as reduce,we as reverse,fn as rollup,on as rollups,fe as scan,oe as shuffle,gn as shuffler,de as some,G as sort,pe as subset,ue as sum,yn as superset,$n as thresholdFreedmanDiaconis,Hn as thresholdScott,dn as thresholdSturges,I as tickIncrement,Qn as tickStep,cn as ticks,Mn as transpose,Ae as union,v as variance,ce as zip};export default null;
