import{A as v,R as b,a as S,s as g,b as M,c as w,d as _,e as p,f as R}from"./common/Arrow-93c11cb5.js";export{A as AsyncByteQueue,a as AsyncByteStream,l as AsyncMessageReader,g as AsyncRecordBatchFileReader,h as AsyncRecordBatchStreamReader,B as ByteStream,J as JSONMessageReader,m as Message,M as MessageHeader,k as MessageReader,b as RecordBatchFileReader,e as RecordBatchFileWriter,i as RecordBatchJSONWriter,R as RecordBatchReader,c as RecordBatchStreamReader,f as RecordBatchStreamWriter,d as RecordBatchWriter,t as tableFromIPC,j as tableToIPC,u as util}from"./common/Arrow-93c11cb5.js";import{B as D}from"./common/builder-7443288c.js";export{B as Builder}from"./common/builder-7443288c.js";import{__awaiter as d,__rest as T}from"/-/tslib@v2.6.2-OVagwiLDRFa7T0n3eDR1/dist=es2020,mode=imports,min/optimized/tslib.js";import{i as O,a as F,t as f}from"./common/vector-2228b801.js";export{D as Data,M as MapRow,S as StructRow,V as Vector,m as makeData,b as makeVector}from"./common/vector-2228b801.js";import{m as z}from"./common/recordbatch-48e3a12e.js";export{B as BinaryBuilder,e as BoolBuilder,D as DateBuilder,f as DateDayBuilder,g as DateMillisecondBuilder,h as DecimalBuilder,X as DenseUnionBuilder,i as DictionaryBuilder,F as FixedSizeBinaryBuilder,j as FixedSizeListBuilder,l as Float16Builder,n as Float32Builder,o as Float64Builder,k as FloatBuilder,u as Int16Builder,w as Int32Builder,x as Int64Builder,s as Int8Builder,r as IntBuilder,I as IntervalBuilder,p as IntervalDayTimeBuilder,q as IntervalYearMonthBuilder,L as ListBuilder,M as MapBuilder,N as NullBuilder,R as RecordBatch,Y as SparseUnionBuilder,S as StructBuilder,T as Table,K as TimeBuilder,Q as TimeMicrosecondBuilder,P as TimeMillisecondBuilder,V as TimeNanosecondBuilder,O as TimeSecondBuilder,C as TimestampBuilder,H as TimestampMicrosecondBuilder,G as TimestampMillisecondBuilder,J as TimestampNanosecondBuilder,E as TimestampSecondBuilder,y as Uint16Builder,z as Uint32Builder,A as Uint64Builder,U as Uint8Builder,W as UnionBuilder,Z as Utf8Builder,d as builderThroughAsyncIterable,c as builderThroughIterable,m as makeBuilder,a as makeTable,t as tableFromArrays,b as tableFromJSON,v as vectorFromArray}from"./common/recordbatch-48e3a12e.js";export{BufferType,DateUnit,IntervalUnit,MetadataVersion,Precision,TimeUnit,Type,UnionMode}from"./apache-arrow/enum.js";export{l as Binary,B as Bool,D as DataType,o as DateDay,p as DateMillisecond,n as Date_,z as Decimal,C as DenseUnion,G as Dictionary,m as FixedSizeBinary,M as FixedSizeList,F as Float,h as Float16,i as Float32,j as Float64,I as Int,b as Int16,c as Int32,d as Int64,a as Int8,H as Interval,J as IntervalDayTime,K as IntervalYearMonth,L as List,O as Map_,N as Null,E as SparseUnion,S as Struct,u as Time,x as TimeMicrosecond,w as TimeMillisecond,y as TimeNanosecond,v as TimeSecond,T as Timestamp,s as TimestampMicrosecond,r as TimestampMillisecond,t as TimestampNanosecond,q as TimestampSecond,e as Uint16,f as Uint32,g as Uint64,U as Uint8,A as Union,k as Utf8}from"./common/type-9c6ae821.js";export{Field,Schema}from"./apache-arrow/schema.js";export{Visitor}from"./apache-arrow/visitor.js";import"/-/flatbuffers@v23.5.26-F0caiJ5Z6Iv5k5mKA9CZ/dist=es2020,mode=imports,min/optimized/flatbuffers.js";function I(i,e){if(O(i))return A(i,e);if(F(i))return j(i,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}function j(i,e){let a=null;const n=(e==null?void 0:e.type)==="bytes"||!1,o=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(t){c(t,a||(a=i[Symbol.iterator]()))},pull(t){a?c(t,a):t.close()},cancel(){((a==null?void 0:a.return)&&a.return()||!0)&&(a=null)}}),Object.assign({highWaterMark:n?o:void 0},e));function c(t,s){let r,u=null,l=t.desiredSize||null;for(;!(u=s.next(n?l:null)).done;)if(ArrayBuffer.isView(u.value)&&(r=f(u.value))&&(l!=null&&n&&(l=l-r.byteLength+1),u.value=r),t.enqueue(u.value),l!=null&&--l<=0)return;t.close()}}function A(i,e){let a=null;const n=(e==null?void 0:e.type)==="bytes"||!1,o=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(t){return d(this,void 0,void 0,function*(){yield c(t,a||(a=i[Symbol.asyncIterator]()))})},pull(t){return d(this,void 0,void 0,function*(){a?yield c(t,a):t.close()})},cancel(){return d(this,void 0,void 0,function*(){((a==null?void 0:a.return)&&(yield a.return())||!0)&&(a=null)})}}),Object.assign({highWaterMark:n?o:void 0},e));function c(t,s){return d(this,void 0,void 0,function*(){let r,u=null,l=t.desiredSize||null;for(;!(u=yield s.next(n?l:null)).done;)if(ArrayBuffer.isView(u.value)&&(r=f(u.value))&&(l!=null&&n&&(l=l-r.byteLength+1),u.value=r),t.enqueue(u.value),l!=null&&--l<=0)return;t.close()})}}function k(i){return new W(i)}class W{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;const{["readableStrategy"]:a,["writableStrategy"]:n,["queueingStrategy"]:o="count"}=e,c=T(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=z(c),this._getSize=o!=="bytes"?B:y;const{["highWaterMark"]:t=o==="bytes"?Math.pow(2,14):1e3}=Object.assign({},a),{["highWaterMark"]:s=o==="bytes"?Math.pow(2,14):1e3}=Object.assign({},n);this.readable=new ReadableStream({["cancel"]:()=>{this._builder.clear()},["pull"]:r=>{this._maybeFlush(this._builder,this._controller=r)},["start"]:r=>{this._maybeFlush(this._builder,this._controller=r)}},{highWaterMark:t,size:o!=="bytes"?B:y}),this.writable=new WritableStream({["abort"]:()=>{this._builder.clear()},["write"]:()=>{this._maybeFlush(this._builder,this._controller)},["close"]:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:s,size:r=>this._writeValueAndReturnChunkSize(r)})}_writeValueAndReturnChunkSize(e){const a=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-a}_maybeFlush(e,a){if(a==null)return;this._bufferedSize>=a.desiredSize&&(++this._numChunks&&this._enqueue(a,e.toVector())),e.finished&&((e.length>0||this._numChunks===0)&&(++this._numChunks&&this._enqueue(a,e.toVector())),!this._finished&&(this._finished=!0)&&this._enqueue(a,null))}_enqueue(e,a){this._bufferedSize=0,this._controller=null,a==null?e.close():e.enqueue(a)}}const B=i=>{var e;return(e=i==null?void 0:i.length)!==null&&e!==void 0?e:0},y=i=>{var e;return(e=i==null?void 0:i.byteLength)!==null&&e!==void 0?e:0};function h(i,e){const a=new v;let n=null;const o=new ReadableStream({cancel(){return d(this,void 0,void 0,function*(){yield a.close()})},start(s){return d(this,void 0,void 0,function*(){yield t(s,n||(n=yield c()))})},pull(s){return d(this,void 0,void 0,function*(){n?yield t(s,n):s.close()})}});return{writable:new WritableStream(a,Object.assign({highWaterMark:Math.pow(2,14)},i)),readable:o};function c(){return d(this,void 0,void 0,function*(){return yield(yield b.from(a)).open(e)})}function t(s,r){return d(this,void 0,void 0,function*(){let u=s.desiredSize,l=null;for(;!(l=yield r.next()).done;)if(s.enqueue(l.value),u!=null&&--u<=0)return;s.close()})}}function m(i,e){const a=new this(i),n=new S(a),o=new ReadableStream({cancel(){return d(this,void 0,void 0,function*(){yield n.cancel()})},pull(t){return d(this,void 0,void 0,function*(){yield c(t)})},start(t){return d(this,void 0,void 0,function*(){yield c(t)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(a,i),readable:o};function c(t){return d(this,void 0,void 0,function*(){let s=null,r=t.desiredSize;for(;s=yield n.read(r||null);)if(t.enqueue(s),r!=null&&(r-=s.byteLength)<=0)return;t.close()})}}g.toDOMStream=I,D.throughDOM=k,b.throughDOM=h,M.throughDOM=h,w.throughDOM=h,_.throughDOM=m,p.throughDOM=m,R.throughDOM=m;export default null;
