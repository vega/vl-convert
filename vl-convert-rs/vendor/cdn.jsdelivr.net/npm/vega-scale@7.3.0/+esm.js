/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/vega-scale@7.3.0/build/vega-scale.module.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{peek as e,constant as f,isNumber as c,span as a,isObject as d,isString as n,error as t,toSet as b,array as r,toNumber as i,isArray as o}from"/npm/vega-util@1.17.1/+esm";import{bisectRight as l,range as u,bisect as s}from"/npm/d3-array@3.2.2/+esm";import*as g from"/npm/d3-scale@4.0.2/+esm";import{scaleOrdinal as m,tickFormat as p}from"/npm/d3-scale@4.0.2/+esm";export{scaleImplicit}from"/npm/d3-scale@4.0.2/+esm";import*as h from"/npm/d3-interpolate@3.0.1/+esm";import{timeInterval as y,utcInterval as v}from"/npm/vega-time@2.1.1/+esm";function w(e,f,c){const a=e-f+2*c;return e?a>0?a:1:0}const $="identity",M="linear",x="log",S="pow",q="sqrt",G="symlog",k="time",B="utc",O="sequential",R="diverging",F="quantile",A="quantize",I="threshold",L="ordinal",T="point",D="band",P="bin-ordinal",Y="continuous",j="discrete",C="discretizing",E="interpolating",z="temporal";function U(){const e=m().unknown(void 0),f=e.domain,c=e.range;let a,d,n=[0,1],t=!1,b=0,r=0,i=.5;function o(){const e=f().length,o=n[1]<n[0],l=n[1-o],s=w(e,b,r);let g=n[o-0];a=(l-g)/(s||1),t&&(a=Math.floor(a)),g+=(l-g-a*(e-b))*i,d=a*(1-b),t&&(g=Math.round(g),d=Math.round(d));const m=u(e).map((e=>g+a*e));return c(o?m.reverse():m)}return delete e.unknown,e.domain=function(e){return arguments.length?(f(e),o()):f()},e.range=function(e){return arguments.length?(n=[+e[0],+e[1]],o()):n.slice()},e.rangeRound=function(e){return n=[+e[0],+e[1]],t=!0,o()},e.bandwidth=function(){return d},e.step=function(){return a},e.round=function(e){return arguments.length?(t=!!e,o()):t},e.padding=function(e){return arguments.length?(r=Math.max(0,Math.min(1,e)),b=r,o()):b},e.paddingInner=function(e){return arguments.length?(b=Math.max(0,Math.min(1,e)),o()):b},e.paddingOuter=function(e){return arguments.length?(r=Math.max(0,Math.min(1,e)),o()):r},e.align=function(e){return arguments.length?(i=Math.max(0,Math.min(1,e)),o()):i},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const a=n[1]<n[0],t=a?c().reverse():c(),b=t.length-1;let r,i,o,u=+e[0],s=+e[1];return u!=u||s!=s||(s<u&&(o=u,u=s,s=o),s<t[0]||u>n[1-a])?void 0:(r=Math.max(0,l(t,u)-1),i=u===s?r:l(t,s)-1,u-t[r]>d+1e-10&&++r,a&&(o=r,r=b-i,i=b-o),r>i?void 0:f().slice(r,i+1))},e.invert=function(f){const c=e.invertRange([f,f]);return c?c[0]:c},e.copy=function(){return U().domain(f()).range(n).round(t).paddingInner(b).paddingOuter(r).align(i)},o()}function N(e){const f=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return N(f())},e}var Q=Array.prototype.map;const X=Array.prototype.slice;const _=new Map,H=Symbol("vega_scale");function J(e){return e[H]=!0,e}function K(e){return e&&!0===e[H]}function V(e,f,c){return arguments.length>1?(_.set(e,function(e,f,c){const a=function(){const c=f();return c.invertRange||(c.invertRange=c.invert?function(e){return function(f){let c,a=f[0],d=f[1];return d<a&&(c=a,a=d,d=c),[e.invert(a),e.invert(d)]}}(c):c.invertExtent?function(e){return function(f){const c=e.range();let a,d,n,t,b=f[0],r=f[1],i=-1;for(r<b&&(d=b,b=r,r=d),n=0,t=c.length;n<t;++n)c[n]>=b&&c[n]<=r&&(i<0&&(i=n),a=n);if(!(i<0))return b=e.invertExtent(c[i]),r=e.invertExtent(c[a]),[void 0===b[0]?b[1]:b[0],void 0===r[1]?r[0]:r[1]]}}(c):void 0),c.type=e,J(c)};return a.metadata=b(r(c)),a}(e,f,c)),this):W(e)?_.get(e):void 0}function W(e){return _.has(e)}function Z(e,f){const c=_.get(e);return c&&c.metadata[f]}function ee(e){return Z(e,Y)}function fe(e){return Z(e,j)}function ce(e){return Z(e,C)}function ae(e){return Z(e,x)}function de(e){return Z(e,z)}function ne(e){return Z(e,E)}function te(e){return Z(e,F)}V($,g.scaleIdentity),V(M,g.scaleLinear,Y),V(x,g.scaleLog,[Y,x]),V(S,g.scalePow,Y),V(q,g.scaleSqrt,Y),V(G,g.scaleSymlog,Y),V(k,g.scaleTime,[Y,z]),V(B,g.scaleUtc,[Y,z]),V(O,g.scaleSequential,[Y,E]),V(`${O}-${M}`,g.scaleSequential,[Y,E]),V(`${O}-${x}`,g.scaleSequentialLog,[Y,E,x]),V(`${O}-${S}`,g.scaleSequentialPow,[Y,E]),V(`${O}-${q}`,g.scaleSequentialSqrt,[Y,E]),V(`${O}-${G}`,g.scaleSequentialSymlog,[Y,E]),V(`${R}-${M}`,g.scaleDiverging,[Y,E]),V(`${R}-${x}`,g.scaleDivergingLog,[Y,E,x]),V(`${R}-${S}`,g.scaleDivergingPow,[Y,E]),V(`${R}-${q}`,g.scaleDivergingSqrt,[Y,E]),V(`${R}-${G}`,g.scaleDivergingSymlog,[Y,E]),V(F,g.scaleQuantile,[C,F]),V(A,g.scaleQuantize,C),V(I,g.scaleThreshold,C),V(P,(function f(){let c=[],a=[];function d(e){return null==e||e!=e?void 0:a[(s(c,e)-1)%a.length]}return d.domain=function(e){return arguments.length?(c=function(e){return Q.call(e,i)}(e),d):c.slice()},d.range=function(e){return arguments.length?(a=X.call(e),d):a.slice()},d.tickFormat=function(f,a){return p(c[0],e(c),null==f?10:f,a)},d.copy=function(){return f().domain(d.domain()).range(d.range())},d}),[j,C]),V(L,g.scaleOrdinal,j),V(D,U,j),V(T,(function(){return N(U().paddingInner(1))}),j);const be=["clamp","base","constant","exponent"];function re(f,c){const a=c[0],d=e(c)-a;return function(e){return f(a+e*d)}}function ie(e,f,c){return h.piecewise(se(f||"rgb",c),e)}function oe(e,f){const c=new Array(f),a=f+1;for(let d=0;d<f;)c[d]=e(++d/a);return c}function le(e){const f=e.type,c=e.copy();return c.type=f,c}function ue(e,c,a){const d=a-c;let n,t,b;return d&&Number.isFinite(d)?(n=(t=e.type).indexOf("-"),t=n<0?t:t.slice(n+1),b=V(t)().domain([c,a]).range([0,1]),be.forEach((f=>e[f]?b[f](e[f]()):0)),b):f(.5)}function se(e,f){const c=h[function(e){return"interpolate"+e.toLowerCase().split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}(e)];return null!=f&&c&&c.gamma?c.gamma(f):c}function ge(e){const f=e.length/6|0,c=new Array(f);for(let a=0;a<f;)c[a]="#"+e.slice(6*a,6*++a);return c}function me(e,f){for(const c in e)he(c,f(e[c]))}const pe={};function he(e,f){return e=e&&e.toLowerCase(),arguments.length>1?(pe[e]=f,this):pe[e]}me({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ge),me({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(e=>ie(ge(e))));const ye="symbol",ve="discrete",we="gradient",$e=e=>o(e)?e.map((e=>String(e))):String(e),Me=(e,f)=>e[1]-f[1],xe=(e,f)=>f[1]-e[1];function Se(e,f,b){let r;return c(f)&&(e.bins&&(f=Math.max(f,e.bins.length)),null!=b&&(f=Math.min(f,Math.floor(a(e.domain())/b||1)))),d(f)&&(r=f.step,f=f.interval),n(f)&&(f=e.type===k?y(f):e.type==B?v(f):t("Only time and utc scales accept interval strings."),r&&(f=f.every(r))),f}function qe(f,c,a){let d=f.range(),n=d[0],t=e(d),b=Me;if(n>t&&(d=t,t=n,n=d,b=xe),n=Math.floor(n),t=Math.ceil(t),c=c.map((e=>[e,f(e)])).filter((e=>n<=e[1]&&e[1]<=t)).sort(b).map((e=>e[0])),a>0&&c.length>1){const f=[c[0],e(c)];for(;c.length>a&&c.length>=3;)c=c.filter(((e,f)=>!(f%2)));c.length<3&&(c=f)}return c}function Ge(e,f){return e.bins?qe(e,e.bins):e.ticks?e.ticks(f):e.domain()}function ke(e,f,c,a,d,n){const t=f.type;let b=$e;if(t===k||d===k)b=e.timeFormat(a);else if(t===B||d===B)b=e.utcFormat(a);else if(ae(t)){const d=e.formatFloat(a);if(n||f.bins)b=d;else{const e=Be(f,c,!1);b=f=>e(f)?d(f):""}}else if(f.tickFormat){const d=f.domain();b=e.formatSpan(d[0],d[d.length-1],c,a)}else a&&(b=e.format(a));return b}function Be(e,f,c){const a=Ge(e,f),d=e.base(),n=Math.log(d),t=Math.max(1,d*f/a.length),b=e=>{let f=e/Math.pow(d,Math.round(Math.log(e)/n));return f*d<d-.5&&(f*=d),f<=t};return c?a.filter(b):b}const Oe={[F]:"quantiles",[A]:"thresholds",[I]:"domain"},Re={[F]:"quantiles",[A]:"domain"};function Fe(f,c){return f.bins?function(f){const c=f.slice(0,-1);return c.max=e(f),c}(f.bins):f.type===x?Be(f,c,!0):Oe[f.type]?function(e){const f=[-1/0].concat(e);return f.max=1/0,f}(f[Oe[f.type]]()):Ge(f,c)}function Ae(e,f,c,a,d,n,t){const b=Re[f.type]&&n!==k&&n!==B?function(e,f,c){const a=f[Re[f.type]](),d=a.length;let n,t=d>1?a[1]-a[0]:a[0];for(n=1;n<d;++n)t=Math.min(t,a[n]-a[n-1]);return e.formatSpan(0,t,30,c)}(e,f,d):ke(e,f,c,d,n,t);return a===ye&&(e=>Oe[e.type]||e.bins)(f)?Ie(b):a===ve?Te(b):De(b)}const Ie=e=>(f,c,a)=>{const d=Le(a[c+1],Le(a.max,1/0)),n=Pe(f,e),t=Pe(d,e);return n&&t?n+" – "+t:t?"< "+t:"≥ "+n},Le=(e,f)=>null!=e?e:f,Te=e=>(f,c)=>c?e(f):null,De=e=>f=>e(f),Pe=(e,f)=>Number.isFinite(e)?f(e):null;function Ye(f){const c=f.domain(),a=c.length-1;let d=+c[0],n=+e(c),t=n-d;if(f.type===I){const e=a?t/a:.1;d-=e,n+=e,t=n-d}return e=>(e-d)/t}function je(f,c,a){a=a||{};const d=Math.max(3,a.maxlen||7),t=function(e,f,c,a){const d=a||f.type;return n(c)&&de(d)&&(c=c.replace(/%a/g,"%A").replace(/%b/g,"%B")),c||d!==k?c||d!==B?Ae(e,f,5,null,c,a,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(f,c,a.format,a.formatType);if(ce(c.type)){const e=Fe(c).slice(1).map(t),f=e.length;return`${f} boundar${1===f?"y":"ies"}: ${e.join(", ")}`}if(fe(c.type)){const e=c.domain(),f=e.length;return`${f} value${1===f?"":"s"}: ${f>d?e.slice(0,d-2).map(t).join(", ")+", ending with "+e.slice(-1).map(t):e.map(t).join(", ")}`}{const f=c.domain();return`values from ${t(f[0])} to ${t(e(f))}`}}export{D as Band,P as BinOrdinal,ve as DiscreteLegend,R as Diverging,we as GradientLegend,$ as Identity,M as Linear,x as Log,L as Ordinal,T as Point,S as Pow,F as Quantile,A as Quantize,O as Sequential,q as Sqrt,ye as SymbolLegend,G as Symlog,I as Threshold,k as Time,B as UTC,w as bandSpace,je as domainCaption,se as interpolate,ie as interpolateColors,re as interpolateRange,ee as isContinuous,fe as isDiscrete,ce as isDiscretizing,ne as isInterpolating,ae as isLogarithmic,te as isQuantile,K as isRegisteredScale,de as isTemporal,W as isValidScaleType,Ae as labelFormat,Ye as labelFraction,Fe as labelValues,oe as quantizeInterpolator,J as registerScale,V as scale,le as scaleCopy,ue as scaleFraction,he as scheme,Se as tickCount,ke as tickFormat,Ge as tickValues,qe as validTicks};export default null;
//# sourceMappingURL=/sm/b957ef384a1813f39a4654ea274b7568963a7e15deb0ddbf3626c34a1ee0ef08.map