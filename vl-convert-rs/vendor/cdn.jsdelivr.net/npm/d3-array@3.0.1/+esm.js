/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/d3-array@3.0.1/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{InternMap as t}from"/npm/internmap@2.0.1/+esm";export{InternMap,InternSet}from"/npm/internmap@2.0.1/+esm";function n(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function r(t){let r=t,o=t;function e(t,n,r,e){for(null==r&&(r=0),null==e&&(e=t.length);r<e;){const f=r+e>>>1;o(t[f],n)<0?r=f+1:e=f}return r}return 1===t.length&&(r=(n,r)=>t(n)-r,o=function(t){return(r,o)=>n(t(r),o)}(t)),{left:e,center:function(t,n,o,f){null==o&&(o=0),null==f&&(f=t.length);const u=e(t,n,o,f-1);return u>o&&r(t[u-1],n)>-r(t[u],n)?u-1:u},right:function(t,n,r,e){for(null==r&&(r=0),null==e&&(e=t.length);r<e;){const f=r+e>>>1;o(t[f],n)>0?e=f:r=f+1}return r}}}function o(t){return null===t?NaN:+t}const e=r(n),f=e.right,u=e.left,i=r(o).center;function l(t,n){let r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++r;else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(e=+e)>=e&&++r}return r}function c(t){return 0|t.length}function a(t){return!(t>0)}function s(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function h(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),r=(t=t.map(s)).map(c),o=t.length-1,e=new Array(o+1).fill(0),f=[];if(o<0||r.some(a))return f;for(;;){f.push(e.map(((n,r)=>t[r][n])));let u=o;for(;++e[u]===r[u];){if(0===u)return n?f.map(n):f;e[u--]=0}}}function p(t,n){var r=0,o=0;return Float64Array.from(t,void 0===n?t=>r+=+t||0:e=>r+=+n(e,o++,t)||0)}function d(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function y(t,n){let r,o=0,e=0,f=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(r=n-e,e+=r/++o,f+=r*(n-e));else{let u=-1;for(let i of t)null!=(i=n(i,++u,t))&&(i=+i)>=i&&(r=i-e,e+=r/++o,f+=r*(i-e))}if(o>1)return f/(o-1)}function v(t,n){const r=y(t,n);return r?Math.sqrt(r):r}function m(t,n){let r,o;if(void 0===n)for(const n of t)null!=n&&(void 0===r?n>=n&&(r=o=n):(r>n&&(r=n),o<n&&(o=n)));else{let e=-1;for(let f of t)null!=(f=n(f,++e,t))&&(void 0===r?f>=f&&(r=o=f):(r>f&&(r=f),o<f&&(o=f)))}return[r,o]}class M{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let o=0;o<this._n&&o<32;o++){const e=n[o],f=t+e,u=Math.abs(t)<Math.abs(e)?t-(f-e):e-(f-t);u&&(n[r++]=u),t=f}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n,r,o,e=this._n,f=0;if(e>0){for(f=t[--e];e>0&&(n=f,r=t[--e],f=n+r,o=r-(f-n),!o););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(r=2*o,n=f+r,r==n-f&&(f=n))}return f}}function g(t,n){const r=new M;if(void 0===n)for(let n of t)(n=+n)&&r.add(n);else{let o=-1;for(let e of t)(e=+n(e,++o,t))&&r.add(e)}return+r}function w(t,n){const r=new M;let o=-1;return Float64Array.from(t,void 0===n?t=>r.add(+t||0):e=>r.add(+n(e,++o,t)||0))}function A(t){return t}function b(t,...n){return L(t,A,A,n)}function S(t,...n){return L(t,Array.from,A,n)}function x(t,n){for(let r=1,o=n.length;r<o;++r)t=t.flatMap((t=>t.pop().map((([n,r])=>[...t,n,r]))));return t}function N(t,...n){return x(S(t,...n),n)}function E(t,n,...r){return x(T(t,n,...r),r)}function F(t,n,...r){return L(t,A,n,r)}function T(t,n,...r){return L(t,Array.from,n,r)}function _(t,...n){return L(t,A,j,n)}function q(t,...n){return L(t,Array.from,j,n)}function j(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function L(n,r,o,e){return function n(f,u){if(u>=e.length)return o(f);const i=new t,l=e[u++];let c=-1;for(const t of f){const n=l(t,++c,f),r=i.get(n);r?r.push(t):i.set(n,[t])}for(const[t,r]of i)i.set(t,n(r,u));return r(i)}(n,0)}function O(t,n){return Array.from(n,(n=>t[n]))}function k(t,...r){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[o=n]=r;if(1===o.length||r.length>1){const e=Uint32Array.from(t,((t,n)=>n));return r.length>1?(r=r.map((n=>t.map(n))),e.sort(((t,o)=>{for(const e of r){const r=n(e[t],e[o]);if(r)return r}}))):(o=t.map(o),e.sort(((t,r)=>n(o[t],o[r])))),O(t,e)}return t.sort(o)}function I(t,r,o){return(1===r.length?k(F(t,r,o),(([t,r],[o,e])=>n(r,e)||n(t,o))):k(b(t,o),(([t,o],[e,f])=>r(o,f)||n(t,e)))).map((([t])=>t))}var D=Array.prototype.slice;function U(t){return function(){return t}}var z=Math.sqrt(50),B=Math.sqrt(10),C=Math.sqrt(2);function G(t,n,r){var o,e,f,u,i=-1;if(r=+r,(t=+t)===(n=+n)&&r>0)return[t];if((o=n<t)&&(e=t,t=n,n=e),0===(u=H(t,n,r))||!isFinite(u))return[];if(u>0){let r=Math.round(t/u),o=Math.round(n/u);for(r*u<t&&++r,o*u>n&&--o,f=new Array(e=o-r+1);++i<e;)f[i]=(r+i)*u}else{u=-u;let r=Math.round(t*u),o=Math.round(n*u);for(r/u<t&&++r,o/u>n&&--o,f=new Array(e=o-r+1);++i<e;)f[i]=(r+i)/u}return o&&f.reverse(),f}function H(t,n,r){var o=(n-t)/Math.max(0,r),e=Math.floor(Math.log(o)/Math.LN10),f=o/Math.pow(10,e);return e>=0?(f>=z?10:f>=B?5:f>=C?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(f>=z?10:f>=B?5:f>=C?2:1)}function J(t,n,r){var o=Math.abs(n-t)/Math.max(0,r),e=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),f=o/e;return f>=z?e*=10:f>=B?e*=5:f>=C&&(e*=2),n<t?-e:e}function K(t,n,r){let o;for(;;){const e=H(t,n,r);if(e===o||0===e||!isFinite(e))return[t,n];e>0?(t=Math.floor(t/e)*e,n=Math.ceil(n/e)*e):e<0&&(t=Math.ceil(t*e)/e,n=Math.floor(n*e)/e),o=e}}function P(t){return Math.ceil(Math.log(l(t))/Math.LN2)+1}function Q(){var t=A,n=m,r=P;function o(o){Array.isArray(o)||(o=Array.from(o));var e,u,i=o.length,l=new Array(i);for(e=0;e<i;++e)l[e]=t(o[e],e,o);var c=n(l),a=c[0],s=c[1],h=r(l,a,s);if(!Array.isArray(h)){const t=s,r=+h;if(n===m&&([a,s]=K(a,s,r)),(h=G(a,s,r))[h.length-1]>=s)if(t>=s&&n===m){const t=H(a,s,r);isFinite(t)&&(t>0?s=(Math.floor(s/t)+1)*t:t<0&&(s=(Math.ceil(s*-t)+1)/-t))}else h.pop()}for(var p=h.length;h[0]<=a;)h.shift(),--p;for(;h[p-1]>s;)h.pop(),--p;var d,y=new Array(p+1);for(e=0;e<=p;++e)(d=y[e]=[]).x0=e>0?h[e-1]:a,d.x1=e<p?h[e]:s;for(e=0;e<i;++e)null!=(u=l[e])&&a<=u&&u<=s&&y[f(h,u,0,p)].push(o[e]);return y}return o.value=function(n){return arguments.length?(t="function"==typeof n?n:U(n),o):t},o.domain=function(t){return arguments.length?(n="function"==typeof t?t:U([t[0],t[1]]),o):n},o.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?U(D.call(t)):U(t),o):r},o}function R(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(r<e||void 0===r&&e>=e)&&(r=e)}return r}function V(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(r>e||void 0===r&&e>=e)&&(r=e)}return r}function W(t,r,o=0,e=t.length-1,f=n){for(;e>o;){if(e-o>600){const n=e-o+1,u=r-o+1,i=Math.log(n),l=.5*Math.exp(2*i/3),c=.5*Math.sqrt(i*l*(n-l)/n)*(u-n/2<0?-1:1);W(t,r,Math.max(o,Math.floor(r-u*l/n+c)),Math.min(e,Math.floor(r+(n-u)*l/n+c)),f)}const n=t[r];let u=o,i=e;for(X(t,o,r),f(t[e],n)>0&&X(t,o,e);u<i;){for(X(t,u,i),++u,--i;f(t[u],n)<0;)++u;for(;f(t[i],n)>0;)--i}0===f(t[o],n)?X(t,o,i):(++i,X(t,i,e)),i<=r&&(o=i+1),r<=i&&(e=i-1)}return t}function X(t,n,r){const o=t[n];t[n]=t[r],t[r]=o}function Y(t,n,r){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let r=-1;for(let o of t)null!=(o=n(o,++r,t))&&(o=+o)>=o&&(yield o)}}(t,r)),o=t.length){if((n=+n)<=0||o<2)return V(t);if(n>=1)return R(t);var o,e=(o-1)*n,f=Math.floor(e),u=R(W(t,f).subarray(0,f+1));return u+(V(t.subarray(f+1))-u)*(e-f)}}function Z(t,n,r=o){if(e=t.length){if((n=+n)<=0||e<2)return+r(t[0],0,t);if(n>=1)return+r(t[e-1],e-1,t);var e,f=(e-1)*n,u=Math.floor(f),i=+r(t[u],u,t);return i+(+r(t[u+1],u+1,t)-i)*(f-u)}}function $(t,n,r){return Math.ceil((r-n)/(2*(Y(t,.75)-Y(t,.25))*Math.pow(l(t),-1/3)))}function tt(t,n,r){return Math.ceil((r-n)/(3.5*v(t)*Math.pow(l(t),-1/3)))}function nt(t,n){let r,o=-1,e=-1;if(void 0===n)for(const n of t)++e,null!=n&&(r<n||void 0===r&&n>=n)&&(r=n,o=e);else for(let f of t)null!=(f=n(f,++e,t))&&(r<f||void 0===r&&f>=f)&&(r=f,o=e);return o}function rt(t,n){let r=0,o=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++r,o+=n);else{let e=-1;for(let f of t)null!=(f=n(f,++e,t))&&(f=+f)>=f&&(++r,o+=f)}if(r)return o/r}function ot(t,n){return Y(t,.5,n)}function et(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function ft(t,n){let r,o=-1,e=-1;if(void 0===n)for(const n of t)++e,null!=n&&(r>n||void 0===r&&n>=n)&&(r=n,o=e);else for(let f of t)null!=(f=n(f,++e,t))&&(r>f||void 0===r&&f>=f)&&(r=f,o=e);return o}function ut(n,r){const o=new t;if(void 0===r)for(let t of n)null!=t&&t>=t&&o.set(t,(o.get(t)||0)+1);else{let t=-1;for(let e of n)null!=(e=r(e,++t,n))&&e>=e&&o.set(e,(o.get(e)||0)+1)}let e,f=0;for(const[t,n]of o)n>f&&(f=n,e=t);return e}function it(t,n=lt){const r=[];let o,e=!1;for(const f of t)e&&r.push(n(o,f)),o=f,e=!0;return r}function lt(t,n){return[t,n]}function ct(t,n,r){t=+t,n=+n,r=(e=arguments.length)<2?(n=t,t=0,1):e<3?1:+r;for(var o=-1,e=0|Math.max(0,Math.ceil((n-t)/r)),f=new Array(e);++o<e;)f[o]=t+o*r;return f}function at(t,r=n){let o,e=!1;if(1===r.length){let f;for(const u of t){const t=r(u);(e?n(t,f)<0:0===n(t,t))&&(o=u,f=t,e=!0)}}else for(const n of t)(e?r(n,o)<0:0===r(n,n))&&(o=n,e=!0);return o}function st(t,r=n){if(1===r.length)return ft(t,r);let o,e=-1,f=-1;for(const n of t)++f,(e<0?0===r(n,n):r(n,o)<0)&&(o=n,e=f);return e}function ht(t,r=n){let o,e=!1;if(1===r.length){let f;for(const u of t){const t=r(u);(e?n(t,f)>0:0===n(t,t))&&(o=u,f=t,e=!0)}}else for(const n of t)(e?r(n,o)>0:0===r(n,n))&&(o=n,e=!0);return o}function pt(t,r=n){if(1===r.length)return nt(t,r);let o,e=-1,f=-1;for(const n of t)++f,(e<0?0===r(n,n):r(n,o)>0)&&(o=n,e=f);return e}function dt(t,n){const r=st(t,n);return r<0?void 0:r}var yt=vt(Math.random);function vt(t){return function(n,r=0,o=n.length){let e=o-(r=+r);for(;e;){const o=t()*e--|0,f=n[e+r];n[e+r]=n[o+r],n[o+r]=f}return n}}function mt(t,n){let r=0;if(void 0===n)for(let n of t)(n=+n)&&(r+=n);else{let o=-1;for(let e of t)(e=+n(e,++o,t))&&(r+=e)}return r}function Mt(t){if(!(e=t.length))return[];for(var n=-1,r=V(t,gt),o=new Array(r);++n<r;)for(var e,f=-1,u=o[n]=new Array(e);++f<e;)u[f]=t[f][n];return o}function gt(t){return t.length}function wt(){return Mt(arguments)}function At(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let r=-1;for(const o of t)if(!n(o,++r,t))return!1;return!0}function bt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let r=-1;for(const o of t)if(n(o,++r,t))return!0;return!1}function St(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");const r=[];let o=-1;for(const e of t)n(e,++o,t)&&r.push(e);return r}function xt(t,n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof n)throw new TypeError("mapper is not a function");return Array.from(t,((r,o)=>n(r,o,t)))}function Nt(t,n,r){if("function"!=typeof n)throw new TypeError("reducer is not a function");const o=t[Symbol.iterator]();let e,f,u=-1;if(arguments.length<3){if(({done:e,value:r}=o.next()),e)return;++u}for(;({done:e,value:f}=o.next()),!e;)r=n(r,f,++u,t);return r}function Et(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Ft(t,...n){t=new Set(t);for(const r of n)for(const n of r)t.delete(n);return t}function Tt(t,n){const r=n[Symbol.iterator](),o=new Set;for(const n of t){if(o.has(n))return!1;let t,e;for(;({value:t,done:e}=r.next())&&!e;){if(Object.is(n,t))return!1;o.add(t)}}return!0}function _t(t){return t instanceof Set?t:new Set(t)}function qt(t,...n){t=new Set(t),n=n.map(_t);t:for(const r of t)for(const o of n)if(!o.has(r)){t.delete(r);continue t}return t}function jt(t,n){const r=t[Symbol.iterator](),o=new Set;for(const t of n){if(o.has(t))continue;let n,e;for(;({value:n,done:e}=r.next());){if(e)return!1;if(o.add(n),Object.is(t,n))break}}return!0}function Lt(t,n){return jt(n,t)}function Ot(...t){const n=new Set;for(const r of t)for(const t of r)n.add(t);return n}export{M as Adder,n as ascending,Q as bin,f as bisect,i as bisectCenter,u as bisectLeft,f as bisectRight,r as bisector,l as count,h as cross,p as cumsum,d as descending,v as deviation,Ft as difference,Tt as disjoint,At as every,m as extent,w as fcumsum,St as filter,N as flatGroup,E as flatRollup,g as fsum,ht as greatest,pt as greatestIndex,b as group,I as groupSort,S as groups,Q as histogram,_ as index,q as indexes,qt as intersection,at as least,st as leastIndex,xt as map,R as max,nt as maxIndex,rt as mean,ot as median,et as merge,V as min,ft as minIndex,ut as mode,K as nice,it as pairs,O as permute,Y as quantile,Z as quantileSorted,W as quickselect,ct as range,Nt as reduce,Et as reverse,F as rollup,T as rollups,dt as scan,yt as shuffle,vt as shuffler,bt as some,k as sort,Lt as subset,mt as sum,jt as superset,$ as thresholdFreedmanDiaconis,tt as thresholdScott,P as thresholdSturges,H as tickIncrement,J as tickStep,G as ticks,Mt as transpose,Ot as union,y as variance,wt as zip};export default null;
//# sourceMappingURL=/sm/3b8e8d4875fd2d844c13b0db96aa0bb99d77ff226d7a27d764e2638a48eb1708.map