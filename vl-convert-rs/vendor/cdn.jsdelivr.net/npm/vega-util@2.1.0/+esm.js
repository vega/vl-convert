/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/vega-util@2.1.0/build/vega-util.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function n(n,t,e){return n.fields=t||[],n.fname=e,n}function t(n){return null==n?null:n.fname}function e(n){return null==n?null:n.fields}function r(n){return 1===n.length?u(n[0]):o(n)}const u=n=>function(t){return t[n]},o=n=>{const t=n.length;return function(e){for(let r=0;r<t;++r)e=e[n[r]];return e}};function l(n){throw Error(n)}function c(n){const t=[],e=n.length;let r,u,o,c=null,i=0,f="";function s(){t.push(f+n.substring(r,u)),f="",r=u+1}for(n+="",r=u=0;u<e;++u)if(o=n[u],"\\"===o)f+=n.substring(r,u++),r=u;else if(o===c)s(),c=null,i=-1;else{if(c)continue;r===i&&'"'===o||r===i&&"'"===o?(r=u+1,c=o):"."!==o||i?"["===o?(u>r&&s(),i=r=u+1):"]"===o&&(i||l("Access path missing open bracket: "+n),i>0&&s(),i=0,r=u+1):u>r?s():r=u+1}return i&&l("Access path missing closing bracket: "+n),c&&l("Access path missing closing quote: "+n),u>r&&(u++,s()),t}function i(t,e,u){const o=c(t);return t=1===o.length?o[0]:t,n((u&&u.get||r)(o),[t],e||t)}const f=i("id"),s=n((n=>n),[],"identity"),a=n((()=>0),[],"zero"),h=n((()=>1),[],"one"),g=n((()=>!0),[],"true"),p=n((()=>!1),[],"false"),b=new Set([...Object.getOwnPropertyNames(Object.prototype).filter((n=>"function"==typeof Object.prototype[n])),"__proto__"]);function y(n,t,e){const r=[t].concat([].slice.call(e));console[n].apply(console,r)}const m=0,M=1,O=2,d=3,j=4;function w(n,t,e=y){let r=n||0;return{level(n){return arguments.length?(r=+n,this):r},error(){return r>=1&&e(t||"error","ERROR",arguments),this},warn(){return r>=2&&e(t||"warn","WARN",arguments),this},info(){return r>=3&&e(t||"log","INFO",arguments),this},debug(){return r>=4&&e(t||"log","DEBUG",arguments),this}}}var E=Array.isArray;function v(n){return n===Object(n)}const A=n=>"__proto__"!==n;function _(...n){return n.reduce(((n,t)=>{for(const e in t)if("signals"===e)n.signals=x(n.signals,t.signals);else{const r="legend"===e?{layout:1}:"style"===e||null;k(n,e,t[e],r)}return n}),{})}function k(n,t,e,r){if(!A(t))return;let u,o;if(v(e)&&!E(e))for(u in o=v(n[t])?n[t]:n[t]={},e)r&&(!0===r||r[u])?k(o,u,e[u]):A(u)&&(o[u]=e[u]);else n[t]=e}function x(n,t){if(null==n)return t;const e={},r=[];function u(n){e[n.name]||(e[n.name]=1,r.push(n))}return t.forEach(u),n.forEach(u),r}function D(n){return n[n.length-1]}function z(n){return null==n||""===n?null:+n}const R=n=>t=>n*Math.exp(t),S=n=>t=>Math.log(n*t),N=n=>t=>Math.sign(t)*Math.log1p(Math.abs(t/n)),P=n=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*n,T=n=>t=>t<0?-Math.pow(-t,n):Math.pow(t,n);function U(n,t,e,r){const u=e(n[0]),o=e(D(n)),l=(o-u)*t;return[r(u-l),r(o-l)]}function $(n,t){return U(n,t,z,s)}function q(n,t){var e=Math.sign(n[0]);return U(n,t,S(e),R(e))}function B(n,t,e){return U(n,t,T(e),T(1/e))}function C(n,t,e){return U(n,t,N(e),P(e))}function F(n,t,e,r,u){const o=r(n[0]),l=r(D(n)),c=null!=t?r(t):(o+l)/2;return[u(c+(o-c)*e),u(c+(l-c)*e)]}function G(n,t,e){return F(n,t,e,z,s)}function I(n,t,e){const r=Math.sign(n[0]);return F(n,t,e,S(r),R(r))}function J(n,t,e,r){return F(n,t,e,T(r),T(1/r))}function V(n,t,e,r){return F(n,t,e,N(r),P(r))}function W(n){return 1+~~(new Date(n).getMonth()/3)}function H(n){return 1+~~(new Date(n).getUTCMonth()/3)}function K(n){return null!=n?E(n)?n:[n]:[]}function L(n,t,e){let r,u=n[0],o=n[1];return o<u&&(r=o,o=u,u=r),r=o-u,r>=e-t?[t,e]:[u=Math.min(Math.max(u,t),e-r),u+r]}function Q(n){return"function"==typeof n}function X(t,r,u){u=u||{},r=K(r)||[];const o=[],l=[],c={},f=u.comparator||Z;return K(t).forEach(((n,t)=>{null!=n&&(o.push("descending"===r[t]?-1:1),l.push(n=Q(n)?n:i(n,null,u)),(e(n)||[]).forEach((n=>c[n]=1)))})),0===l.length?null:n(f(l,o),Object.keys(c))}const Y=(n,t)=>(n<t||null==n)&&null!=t?-1:(n>t||null==t)&&null!=n?1:(t=t instanceof Date?+t:t,(n=n instanceof Date?+n:n)!==n&&t==t?-1:t!=t&&n==n?1:0),Z=(n,t)=>1===n.length?nn(n[0],t[0]):tn(n,t,n.length),nn=(n,t)=>function(e,r){return Y(n(e),n(r))*t},tn=(n,t,e)=>(t.push(0),function(r,u){let o,l=0,c=-1;for(;0===l&&++c<e;)o=n[c],l=Y(o(r),o(u));return l*t[c]});function en(n){return Q(n)?n:()=>n}function rn(n,t){let e;return r=>{e&&clearTimeout(e),e=setTimeout((()=>(t(r),e=null)),n)}}function un(n){for(let t,e,r=1,u=arguments.length;r<u;++r)for(e in t=arguments[r],t)n[e]=t[e];return n}function on(n,t){let e,r,u,o,l=0;if(n&&(e=n.length))if(null==t){for(r=n[l];l<e&&(null==r||r!=r);r=n[++l]);for(u=o=r;l<e;++l)r=n[l],null!=r&&(r<u&&(u=r),r>o&&(o=r))}else{for(r=t(n[l]);l<e&&(null==r||r!=r);r=t(n[++l]));for(u=o=r;l<e;++l)r=t(n[l]),null!=r&&(r<u&&(u=r),r>o&&(o=r))}return[u,o]}function ln(n,t){const e=n.length;let r,u,o,l,c,i=-1;if(null==t){for(;++i<e;)if(u=n[i],null!=u&&u>=u){r=o=u;break}if(i===e)return[-1,-1];for(l=c=i;++i<e;)u=n[i],null!=u&&(r>u&&(r=u,l=i),o<u&&(o=u,c=i))}else{for(;++i<e;)if(u=t(n[i],i,n),null!=u&&u>=u){r=o=u;break}if(i===e)return[-1,-1];for(l=c=i;++i<e;)u=t(n[i],i,n),null!=u&&(r>u&&(r=u,l=i),o<u&&(o=u,c=i))}return[l,c]}function cn(n,t){return Object.hasOwn(n,t)}const fn={};function sn(n){let t,e={};function r(n){return cn(e,n)&&e[n]!==fn}const u={size:0,empty:0,object:e,has:r,get:n=>r(n)?e[n]:void 0,set(n,t){return r(n)||(++u.size,e[n]===fn&&--u.empty),e[n]=t,this},delete(n){return r(n)&&(--u.size,++u.empty,e[n]=fn),this},clear(){u.size=u.empty=0,u.object=e={}},test(n){return arguments.length?(t=n,u):t},clean(){const n={};let r=0;for(const u in e){const o=e[u];o===fn||t&&t(o)||(n[u]=o,++r)}u.size=r,u.empty=0,u.object=e=n}};return n&&Object.keys(n).forEach((t=>{u.set(t,n[t])})),u}function an(n,t,e,r,u,o){if(!e&&0!==e)return o;const l=+e;let c,i=n[0],f=D(n);f<i&&(c=i,i=f,f=c),c=Math.abs(t-i);const s=Math.abs(f-t);return c<s&&c<=l?r:s<=l?u:o}function hn(n,t,e){const r=n.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:n,writable:!0,enumerable:!0,configurable:!0}),un(r,e)}function gn(n,t,e,r){let u,o=t[0],l=t[t.length-1];return o>l&&(u=o,o=l,l=u),r=void 0===r||r,((e=void 0===e||e)?o<=n:o<n)&&(r?n<=l:n<l)}function pn(n){return"boolean"==typeof n}function bn(n){return"[object Date]"===Object.prototype.toString.call(n)}function yn(n){return n&&Q(n[Symbol.iterator])}function mn(n){return"number"==typeof n}function Mn(n){return"[object RegExp]"===Object.prototype.toString.call(n)}function On(n){return"string"==typeof n}function dn(t,e,u){t&&(t=e?K(t).map((n=>n.replace(/\\(.)/g,"$1"))):K(t));const o=t&&t.length,l=u&&u.get||r,i=n=>l(e?[n]:c(n));let f;if(o)if(1===o){const n=i(t[0]);f=function(t){return""+n(t)}}else{const n=t.map(i);f=function(t){let e=""+n[0](t),r=0;for(;++r<o;)e+="|"+n[r](t);return e}}else f=function(){return""};return n(f,t,"key")}function jn(n,t){const e=n[0],r=D(n),u=+t;return u?1===u?r:e+u*(r-e):e}function wn(n){let t,e,r;n=+n||1e4;const u=()=>{t={},e={},r=0},o=(u,o)=>(++r>n&&(e=t,t={},r=1),t[u]=o);return u(),{clear:u,has:n=>cn(t,n)||cn(e,n),get:n=>cn(t,n)?t[n]:cn(e,n)?o(n,e[n]):void 0,set:(n,e)=>cn(t,n)?t[n]=e:o(n,e)}}function En(n,t,e,r){const u=t.length,o=e.length;if(!o)return t;if(!u)return e;const l=r||new t.constructor(u+o);let c=0,i=0,f=0;for(;c<u&&i<o;++f)l[f]=n(t[c],e[i])>0?e[i++]:t[c++];for(;c<u;++c,++f)l[f]=t[c];for(;i<o;++i,++f)l[f]=e[i];return l}function vn(n,t){let e="";for(;--t>=0;)e+=n;return e}function An(n,t,e,r){const u=e||" ",o=n+"",l=t-o.length;return l<=0?o:"left"===r?vn(u,l)+o:"center"===r?vn(u,~~(l/2))+o+vn(u,Math.ceil(l/2)):o+vn(u,l)}function _n(n){return n&&D(n)-n[0]||0}function kn(n){return E(n)?`[${n.map((n=>null===n?"null":kn(n)))}]`:v(n)||On(n)?JSON.stringify(n).replaceAll("\u2028","\\u2028").replaceAll("\u2029","\\u2029"):n}function xn(n){return null==n||""===n?null:!(!n||"false"===n||"0"===n)&&!!n}const Dn=n=>mn(n)||bn(n)?n:Date.parse(n);function zn(n,t){return t=t||Dn,null==n||""===n?null:t(n)}function Rn(n){return null==n||""===n?null:n+""}function Sn(n){const t={},e=n.length;for(let r=0;r<e;++r)t[n[r]]=!0;return t}function Nn(n,t,e,r){const u=null!=r?r:"â€¦",o=n+"",l=o.length,c=Math.max(0,t-u.length);return l<=t?o:"left"===e?u+o.slice(l-c):"center"===e?o.slice(0,Math.ceil(c/2))+u+o.slice(l-~~(c/2)):o.slice(0,c)+u}function Pn(n,t,e){if(n)if(t){const r=n.length;for(let u=0;u<r;++u){const r=t(n[u]);r&&e(r,u,n)}}else n.forEach(e)}export{j as Debug,b as DisallowedObjectProperties,M as Error,d as Info,m as None,O as Warn,n as accessor,e as accessorFields,t as accessorName,K as array,Y as ascending,L as clampRange,X as compare,en as constant,rn as debounce,l as error,un as extend,on as extent,ln as extentIndex,p as falsy,sn as fastmap,i as field,an as flush,cn as hasOwnProperty,f as id,s as identity,hn as inherits,gn as inrange,E as isArray,pn as isBoolean,bn as isDate,Q as isFunction,yn as isIterable,mn as isNumber,v as isObject,Mn as isRegExp,On as isString,dn as key,jn as lerp,w as logger,wn as lruCache,En as merge,_ as mergeConfig,h as one,An as pad,$ as panLinear,q as panLog,B as panPow,C as panSymlog,D as peek,W as quarter,vn as repeat,_n as span,c as splitAccessPath,kn as stringValue,xn as toBoolean,zn as toDate,z as toNumber,Sn as toSet,Rn as toString,Nn as truncate,g as truthy,H as utcquarter,Pn as visitArray,k as writeConfig,a as zero,G as zoomLinear,I as zoomLog,J as zoomPow,V as zoomSymlog};export default null;
//# sourceMappingURL=/sm/07d6cbff58154d46aad30e0d45930194523bcbdc1c145bbe1ab556860e85e5c2.map